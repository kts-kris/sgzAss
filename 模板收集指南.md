# 三国志霸业 - 模板收集指南

## 概述

为了让自动化程序能够正确识别游戏界面元素，我们需要收集游戏中关键界面元素的模板图片。简化的模板收集工具已经为您准备好了。

## 工具状态

✅ **模板收集工具已启动并成功连接设备**

当前工具正在运行中，您可以看到以下菜单：
```
📋 菜单选项:
1. 开始收集模板
2. 查看已收集的模板
3. 重新获取截图
4. 退出
```

## 需要收集的模板

程序需要以下8个关键模板才能正常工作：

1. **close_button** - 关闭按钮（通常是X或关闭图标）
2. **back_button** - 返回按钮（通常是箭头或返回图标）
3. **main_menu** - 主菜单按钮（游戏主界面的菜单按钮）
4. **world_map** - 世界地图按钮（进入世界地图的按钮）
5. **confirm_button** - 确认按钮（确认操作的按钮）
6. **cancel_button** - 取消按钮（取消操作的按钮）
7. **land_occupation** - 占领土地按钮（占领土地的按钮）
8. **attack_button** - 攻击按钮（发起攻击的按钮）

## 操作步骤

### 第一步：准备游戏界面
1. 确保三国志霸业游戏正在运行
2. 将游戏窗口调整到合适大小，确保界面元素清晰可见
3. 导航到包含需要收集模板的界面

### 第二步：开始收集模板
1. 在工具菜单中输入 `1` 选择"开始收集模板"
2. 按任意键继续，工具会自动获取当前屏幕截图
3. 工具会显示截图窗口，并提示您选择第一个模板

### 第三步：选择模板区域
1. 工具会按顺序提示您选择每个模板
2. 使用鼠标在截图中**拖拽选择**对应的界面元素
3. 确保选择的区域：
   - 完整包含目标元素
   - 不包含过多背景
   - 尺寸大于10x10像素
4. 选择完成后，模板会自动保存并进入下一个

### 第四步：快捷键操作
- 按 `s` 键：重新获取截图（当界面发生变化时使用）
- 按 `q` 键：退出收集过程

### 第五步：验证收集结果
1. 完成所有模板收集后，选择菜单选项 `2` 查看已收集的模板
2. 确认所有8个模板都已成功收集

## 收集技巧

### 选择区域的最佳实践
- **精确选择**：只选择按钮或图标本身，避免包含过多背景
- **完整包含**：确保整个元素都在选择区域内
- **适当边距**：可以包含1-2像素的边距，但不要过多
- **避免重叠**：不要选择包含其他界面元素的区域

### 不同界面的模板收集
- **主界面模板**：main_menu, world_map
- **通用按钮**：close_button, back_button, confirm_button, cancel_button
- **功能按钮**：land_occupation, attack_button

### 如果选择错误
- 可以重新选择同一个模板（会覆盖之前的）
- 使用 `s` 键更新截图到正确的界面
- 必要时退出重新开始

## 常见问题

### Q: 截图显示的不是游戏界面怎么办？
A: 按 `s` 键重新获取截图，确保游戏窗口在前台。

### Q: 选择的区域太小怎么办？
A: 工具会提示"选区太小，请重新选择"，重新拖拽选择更大的区域。

### Q: 某个模板在当前界面找不到怎么办？
A: 按 `s` 键重新截图，或导航到包含该元素的界面后再截图。

### Q: 如何知道模板收集是否成功？
A: 每次成功保存模板后会显示"✓ 已保存模板"消息，并自动进入下一个模板。

## 完成后的验证

收集完成后，您可以：
1. 选择菜单选项 `2` 查看所有已收集的模板
2. 确认显示类似以下内容：
```
✓ close_button.png (32x32)
✓ back_button.png (40x40)
✓ main_menu.png (80x50)
... 等等
```

## 下一步

模板收集完成后：
1. 选择菜单选项 `4` 退出模板收集工具
2. 运行主程序测试自动化功能
3. 如果程序仍然无法识别某些元素，可能需要重新收集对应的模板

---

**注意**：模板质量直接影响程序的识别准确性，请仔细选择每个模板区域。