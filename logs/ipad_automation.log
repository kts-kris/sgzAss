2025-07-25 17:07:53 | INFO | src.utils.logger:setup_logger:77 | 日志系统初始化完成
2025-07-25 17:07:53 | INFO | __main__:main:27 | 启动iPad自动化控制系统示例
2025-07-25 17:07:53 | INFO | __main__:main:31 | 初始化系统...
2025-07-25 17:07:53 | INFO | src.services.vision:_load_templates:48 | 正在从 templates 加载模板图像...
2025-07-25 17:07:53 | INFO | src.services.vision:_load_templates:78 | 模板加载完成，共 0 个模板
2025-07-25 17:07:53 | INFO | __main__:main:38 | 连接iPad设备...
2025-07-25 17:07:53 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: device_connection
2025-07-25 17:07:53 | INFO | src.core.controller:connect_device:112 | 正在连接iPad设备...
2025-07-25 17:07:53 | INFO | src.services.connection:connect:312 | 正在连接USB设备...
2025-07-25 17:07:53 | INFO | src.services.connection:connect:324 | 检测到设备: Unknown Device (iOS Unknown, Unknown)
2025-07-25 17:07:53 | WARNING | src.services.connection:connect:345 | 标准截图服务不可用: InvalidService
2025-07-25 17:07:53 | INFO | src.services.connection:connect:346 | 尝试使用外部命令进行截图...
2025-07-25 17:07:53 | INFO | src.services.connection:connect:362 | 将使用外部命令进行截图
2025-07-25 17:07:55 | INFO | src.services.connection:connect:369 | 屏幕尺寸: 2752x2064
2025-07-25 17:07:55 | INFO | src.services.connection:connect:409 | USB连接成功，耗时: 1.78秒
2025-07-25 17:07:55 | INFO | src.core.controller:connect_device:123 | 设备连接成功: Unknown Device (Unknown)
2025-07-25 17:07:55 | INFO | src.utils.logger:log_performance:242 | device_connection 执行完成
2025-07-25 17:07:55 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: device_connection (1.779s)
2025-07-25 17:07:55 | INFO | __main__:main:43 | 设备连接成功，耗时: 1.78秒
2025-07-25 17:07:55 | INFO | __main__:main:51 | 设备信息: Unknown Device - Unknown
2025-07-25 17:07:55 | INFO | __main__:main:54 | 获取屏幕截图...
2025-07-25 17:07:55 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: screenshot
2025-07-25 17:07:56 | DEBUG | src.services.connection:get_screenshot:471 | 截图成功，耗时: 1.480秒
2025-07-25 17:07:56 | INFO | src.utils.logger:log_performance:242 | screenshot 执行完成
2025-07-25 17:07:56 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: screenshot (1.480s)
2025-07-25 17:07:56 | INFO | __main__:main:59 | 截图成功，尺寸: (2064, 2752, 3), 耗时: 1.48秒
2025-07-25 17:07:56 | INFO | __main__:main:65 | 分析屏幕内容...
2025-07-25 17:07:56 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: screen_analysis
2025-07-25 17:07:58 | DEBUG | src.services.connection:get_screenshot:471 | 截图成功，耗时: 1.499秒
2025-07-25 17:07:58 | DEBUG | src.core.controller:take_screenshot:200 | 截图获取成功
2025-07-25 17:07:58 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: main_menu
2025-07-25 17:07:58 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: world_map
2025-07-25 17:07:58 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: battle_ui
2025-07-25 17:07:58 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: city_view
2025-07-25 17:07:58 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: confirm_button
2025-07-25 17:07:58 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: cancel_button
2025-07-25 17:07:58 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: close_button
2025-07-25 17:07:58 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: back_button
2025-07-25 17:07:58 | INFO | src.core.controller:analyze_screen:229 | 屏幕分析完成: unknown, 找到 0 个元素
2025-07-25 17:07:58 | INFO | src.utils.logger:log_performance:242 | screen_analysis 执行完成
2025-07-25 17:07:58 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: screen_analysis (1.500s)
2025-07-25 17:07:58 | INFO | __main__:main:70 | 屏幕分析完成，识别到 0 个元素，耗时: 1.50秒
2025-07-25 17:07:58 | INFO | __main__:main:75 | 查找界面元素...
2025-07-25 17:07:58 | INFO | __main__:main:82 | 创建自动化任务...
2025-07-25 17:07:58 | INFO | src.core.task_manager:create_task:125 | 创建任务: 示例任务
2025-07-25 17:07:58 | DEBUG | src.core.task_manager:add_action_step:160 | 向任务 示例任务 添加操作步骤: click_step
2025-07-25 17:07:58 | DEBUG | src.core.task_manager:add_action_step:160 | 向任务 示例任务 添加操作步骤: wait_step
2025-07-25 17:07:58 | DEBUG | src.core.task_manager:add_condition_step:194 | 向任务 示例任务 添加条件步骤: condition_step
2025-07-25 17:07:58 | INFO | __main__:main:100 | 执行任务...
2025-07-25 17:07:58 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: task_execution
2025-07-25 17:07:58 | INFO | src.core.task_manager:_execute_task_impl:283 | 开始执行任务: 示例任务
2025-07-25 17:07:58 | INFO | src.core.task_manager:_execute_task_impl:296 | 执行步骤 1/3: click_step
2025-07-25 17:07:58 | ERROR | src.core.controller:tap_coordinate:351 | 点击坐标失败: 自动化服务未初始化
2025-07-25 17:07:58 | DEBUG | src.core.task_manager:_execute_action_step:377 | 步骤 click_step 第 2 次重试
2025-07-25 17:07:59 | ERROR | src.core.controller:tap_coordinate:351 | 点击坐标失败: 自动化服务未初始化
2025-07-25 17:07:59 | DEBUG | src.core.task_manager:_execute_action_step:377 | 步骤 click_step 第 3 次重试
2025-07-25 17:08:00 | ERROR | src.core.controller:tap_coordinate:351 | 点击坐标失败: 自动化服务未初始化
2025-07-25 17:08:00 | ERROR | src.core.task_manager:_execute_action_step:413 | 步骤 click_step 重试 3 次后仍然失败
2025-07-25 17:08:00 | ERROR | src.core.task_manager:_execute_step:356 | 步骤 click_step 执行失败
2025-07-25 17:08:00 | ERROR | src.core.task_manager:_execute_task_impl:307 | 步骤 click_step 执行失败，停止任务执行
2025-07-25 17:08:00 | INFO | src.core.task_manager:_execute_task_impl:333 | 任务 示例任务 执行耗时: 2.01秒
2025-07-25 17:08:00 | INFO | src.utils.logger:log_performance:242 | task_execution 执行完成
2025-07-25 17:08:00 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: task_execution (2.008s)
2025-07-25 17:08:00 | WARNING | __main__:main:107 | 任务执行失败
2025-07-25 17:08:00 | INFO | __main__:main:111 | 系统状态: 连接=ConnectionStatus.CONNECTED, 内存使用=0.0MB
2025-07-25 17:08:00 | INFO | __main__:main:115 | 性能统计:
2025-07-25 17:08:00 | INFO | __main__:main:121 |   total_operations: 0
2025-07-25 17:08:00 | INFO | __main__:main:121 |   successful_operations: 0
2025-07-25 17:08:00 | INFO | __main__:main:121 |   failed_operations: 0
2025-07-25 17:08:00 | INFO | __main__:main:119 |   average_response_time: 0.00秒
2025-07-25 17:08:00 | INFO | __main__:main:123 |   last_operation_time: None
2025-07-25 17:08:00 | INFO | __main__:main:130 | 清理资源...
2025-07-25 17:08:00 | INFO | src.core.controller:disconnect_device:138 | 正在断开设备连接...
2025-07-25 17:08:00 | INFO | src.services.connection:disconnect:437 | 正在断开设备连接...
2025-07-25 17:08:00 | INFO | src.services.connection:disconnect:448 | 设备连接已断开
2025-07-25 17:08:00 | INFO | src.core.controller:disconnect_device:150 | 设备连接已断开
2025-07-25 17:08:00 | INFO | __main__:main:133 | 设备连接已断开
2025-07-25 17:10:15 | INFO | src.utils.logger:setup_logger:77 | 日志系统初始化完成
2025-07-25 17:10:15 | INFO | __main__:main:27 | 启动iPad自动化控制系统示例
2025-07-25 17:10:15 | INFO | __main__:main:31 | 初始化系统...
2025-07-25 17:10:15 | INFO | src.services.vision:_load_templates:48 | 正在从 templates 加载模板图像...
2025-07-25 17:10:15 | INFO | src.services.vision:_load_templates:78 | 模板加载完成，共 0 个模板
2025-07-25 17:10:15 | INFO | __main__:main:38 | 连接iPad设备...
2025-07-25 17:10:15 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: device_connection
2025-07-25 17:10:15 | INFO | src.core.controller:connect_device:112 | 正在连接iPad设备...
2025-07-25 17:10:15 | INFO | src.services.connection:connect:313 | 正在连接USB设备...
2025-07-25 17:10:15 | INFO | src.services.connection:connect:325 | 检测到设备: Unknown Device (iOS Unknown, Unknown)
2025-07-25 17:10:15 | WARNING | src.services.connection:connect:346 | 标准截图服务不可用: InvalidService
2025-07-25 17:10:15 | INFO | src.services.connection:connect:347 | 尝试使用外部命令进行截图...
2025-07-25 17:10:15 | INFO | src.services.connection:connect:363 | 将使用外部命令进行截图
2025-07-25 17:10:17 | INFO | src.services.connection:connect:370 | 屏幕尺寸: 2752x2064
2025-07-25 17:10:17 | INFO | src.services.connection:connect:410 | USB连接成功，耗时: 1.82秒
2025-07-25 17:10:17 | INFO | src.core.controller:connect_device:123 | 设备连接成功: Unknown Device (Unknown)
2025-07-25 17:10:17 | INFO | src.utils.logger:log_performance:242 | device_connection 执行完成
2025-07-25 17:10:17 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: device_connection (1.819s)
2025-07-25 17:10:17 | INFO | __main__:main:43 | 设备连接成功，耗时: 1.82秒
2025-07-25 17:10:17 | INFO | __main__:main:51 | 设备信息: Unknown Device - Unknown
2025-07-25 17:10:17 | INFO | __main__:main:54 | 获取屏幕截图...
2025-07-25 17:10:17 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: screenshot
2025-07-25 17:10:19 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.501秒
2025-07-25 17:10:21 | DEBUG | src.services.connection:_auto_save_screenshot_if_enabled:631 | 自动保存截图: auto_screenshot_20250725_171019_026.png
2025-07-25 17:10:21 | INFO | src.utils.logger:log_performance:242 | screenshot 执行完成
2025-07-25 17:10:21 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: screenshot (3.751s)
2025-07-25 17:10:21 | INFO | __main__:main:59 | 截图成功，尺寸: (2064, 2752, 3), 耗时: 3.75秒
2025-07-25 17:10:21 | INFO | __main__:main:65 | 分析屏幕内容...
2025-07-25 17:10:21 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: screen_analysis
2025-07-25 17:10:22 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.606秒
2025-07-25 17:10:24 | DEBUG | src.services.connection:_auto_save_screenshot_if_enabled:631 | 自动保存截图: auto_screenshot_20250725_171022_883.png
2025-07-25 17:10:24 | DEBUG | src.core.controller:take_screenshot:200 | 截图获取成功
2025-07-25 17:10:24 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: main_menu
2025-07-25 17:10:24 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: world_map
2025-07-25 17:10:24 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: battle_ui
2025-07-25 17:10:24 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: city_view
2025-07-25 17:10:24 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: confirm_button
2025-07-25 17:10:24 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: cancel_button
2025-07-25 17:10:24 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: close_button
2025-07-25 17:10:24 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: back_button
2025-07-25 17:10:24 | INFO | src.core.controller:analyze_screen:229 | 屏幕分析完成: unknown, 找到 0 个元素
2025-07-25 17:10:24 | INFO | src.utils.logger:log_performance:242 | screen_analysis 执行完成
2025-07-25 17:10:24 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: screen_analysis (3.722s)
2025-07-25 17:10:24 | INFO | __main__:main:70 | 屏幕分析完成，识别到 0 个元素，耗时: 3.72秒
2025-07-25 17:10:24 | INFO | __main__:main:75 | 查找界面元素...
2025-07-25 17:10:24 | INFO | __main__:main:82 | 创建自动化任务...
2025-07-25 17:10:24 | INFO | src.core.task_manager:create_task:125 | 创建任务: 示例任务
2025-07-25 17:10:24 | DEBUG | src.core.task_manager:add_action_step:160 | 向任务 示例任务 添加操作步骤: click_step
2025-07-25 17:10:24 | DEBUG | src.core.task_manager:add_action_step:160 | 向任务 示例任务 添加操作步骤: wait_step
2025-07-25 17:10:24 | DEBUG | src.core.task_manager:add_condition_step:194 | 向任务 示例任务 添加条件步骤: condition_step
2025-07-25 17:10:24 | INFO | __main__:main:100 | 执行任务...
2025-07-25 17:10:24 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: task_execution
2025-07-25 17:10:24 | INFO | src.core.task_manager:_execute_task_impl:283 | 开始执行任务: 示例任务
2025-07-25 17:10:24 | INFO | src.core.task_manager:_execute_task_impl:296 | 执行步骤 1/3: click_step
2025-07-25 17:10:24 | ERROR | src.core.controller:tap_coordinate:351 | 点击坐标失败: 自动化服务未初始化
2025-07-25 17:10:24 | DEBUG | src.core.task_manager:_execute_action_step:377 | 步骤 click_step 第 2 次重试
2025-07-25 17:10:25 | ERROR | src.core.controller:tap_coordinate:351 | 点击坐标失败: 自动化服务未初始化
2025-07-25 17:10:26 | DEBUG | src.core.task_manager:_execute_action_step:377 | 步骤 click_step 第 3 次重试
2025-07-25 17:10:27 | ERROR | src.core.controller:tap_coordinate:351 | 点击坐标失败: 自动化服务未初始化
2025-07-25 17:10:27 | ERROR | src.core.task_manager:_execute_action_step:413 | 步骤 click_step 重试 3 次后仍然失败
2025-07-25 17:10:27 | ERROR | src.core.task_manager:_execute_step:356 | 步骤 click_step 执行失败
2025-07-25 17:10:27 | ERROR | src.core.task_manager:_execute_task_impl:307 | 步骤 click_step 执行失败，停止任务执行
2025-07-25 17:10:27 | INFO | src.core.task_manager:_execute_task_impl:333 | 任务 示例任务 执行耗时: 2.00秒
2025-07-25 17:10:27 | INFO | src.utils.logger:log_performance:242 | task_execution 执行完成
2025-07-25 17:10:27 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: task_execution (2.004s)
2025-07-25 17:10:27 | WARNING | __main__:main:107 | 任务执行失败
2025-07-25 17:10:27 | INFO | __main__:main:111 | 系统状态: 连接=ConnectionStatus.CONNECTED, 内存使用=0.0MB
2025-07-25 17:10:27 | INFO | __main__:main:115 | 性能统计:
2025-07-25 17:10:27 | INFO | __main__:main:121 |   total_operations: 0
2025-07-25 17:10:27 | INFO | __main__:main:121 |   successful_operations: 0
2025-07-25 17:10:27 | INFO | __main__:main:121 |   failed_operations: 0
2025-07-25 17:10:27 | INFO | __main__:main:119 |   average_response_time: 0.00秒
2025-07-25 17:10:27 | INFO | __main__:main:123 |   last_operation_time: None
2025-07-25 17:10:27 | INFO | __main__:main:130 | 清理资源...
2025-07-25 17:10:27 | INFO | src.core.controller:disconnect_device:138 | 正在断开设备连接...
2025-07-25 17:10:27 | INFO | src.services.connection:disconnect:438 | 正在断开设备连接...
2025-07-25 17:10:27 | INFO | src.services.connection:disconnect:449 | 设备连接已断开
2025-07-25 17:10:27 | INFO | src.core.controller:disconnect_device:150 | 设备连接已断开
2025-07-25 17:10:27 | INFO | __main__:main:133 | 设备连接已断开
2025-07-25 17:13:34 | INFO | src.utils.logger:setup_logger:77 | 日志系统初始化完成
2025-07-25 17:13:34 | INFO | __main__:main:27 | 启动iPad自动化控制系统示例
2025-07-25 17:13:34 | INFO | __main__:main:31 | 初始化系统...
2025-07-25 17:13:34 | INFO | src.services.vision:_load_templates:48 | 正在从 templates 加载模板图像...
2025-07-25 17:13:34 | INFO | src.services.vision:_load_templates:78 | 模板加载完成，共 0 个模板
2025-07-25 17:13:34 | INFO | __main__:main:38 | 连接iPad设备...
2025-07-25 17:13:34 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: device_connection
2025-07-25 17:13:34 | INFO | src.core.controller:connect_device:112 | 正在连接iPad设备...
2025-07-25 17:13:34 | INFO | src.services.connection:connect:313 | 正在连接USB设备...
2025-07-25 17:13:34 | INFO | src.services.connection:connect:325 | 检测到设备: Unknown Device (iOS Unknown, Unknown)
2025-07-25 17:13:34 | WARNING | src.services.connection:connect:346 | 标准截图服务不可用: InvalidService
2025-07-25 17:13:34 | INFO | src.services.connection:connect:347 | 尝试使用外部命令进行截图...
2025-07-25 17:13:34 | INFO | src.services.connection:connect:363 | 将使用外部命令进行截图
2025-07-25 17:13:36 | INFO | src.services.connection:connect:370 | 屏幕尺寸: 2752x2064
2025-07-25 17:13:36 | INFO | src.services.connection:connect:410 | USB连接成功，耗时: 1.81秒
2025-07-25 17:13:36 | INFO | src.core.controller:connect_device:123 | 设备连接成功: Unknown Device (Unknown)
2025-07-25 17:13:36 | INFO | src.utils.logger:log_performance:242 | device_connection 执行完成
2025-07-25 17:13:36 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: device_connection (1.808s)
2025-07-25 17:13:36 | INFO | __main__:main:43 | 设备连接成功，耗时: 1.81秒
2025-07-25 17:13:36 | INFO | __main__:main:51 | 设备信息: Unknown Device - Unknown
2025-07-25 17:13:36 | INFO | __main__:main:54 | 获取屏幕截图...
2025-07-25 17:13:36 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: screenshot
2025-07-25 17:13:37 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.528秒
2025-07-25 17:13:39 | DEBUG | src.services.connection:_auto_save_screenshot_if_enabled:631 | 自动保存截图: auto_screenshot_20250725_171337_815.png
2025-07-25 17:13:39 | INFO | src.utils.logger:log_performance:242 | screenshot 执行完成
2025-07-25 17:13:39 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: screenshot (3.625s)
2025-07-25 17:13:39 | INFO | __main__:main:59 | 截图成功，尺寸: (2064, 2752, 3), 耗时: 3.62秒
2025-07-25 17:13:39 | INFO | __main__:main:65 | 分析屏幕内容...
2025-07-25 17:13:39 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: screen_analysis
2025-07-25 17:13:41 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.539秒
2025-07-25 17:13:43 | DEBUG | src.services.connection:_auto_save_screenshot_if_enabled:631 | 自动保存截图: auto_screenshot_20250725_171341_451.png
2025-07-25 17:13:43 | DEBUG | src.core.controller:take_screenshot:200 | 截图获取成功
2025-07-25 17:13:43 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: main_menu
2025-07-25 17:13:43 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: world_map
2025-07-25 17:13:43 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: battle_ui
2025-07-25 17:13:43 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: city_view
2025-07-25 17:13:43 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: confirm_button
2025-07-25 17:13:43 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: cancel_button
2025-07-25 17:13:43 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: close_button
2025-07-25 17:13:43 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: back_button
2025-07-25 17:13:43 | INFO | src.core.controller:analyze_screen:229 | 屏幕分析完成: unknown, 找到 0 个元素
2025-07-25 17:13:43 | INFO | src.utils.logger:log_performance:242 | screen_analysis 执行完成
2025-07-25 17:13:43 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: screen_analysis (3.645s)
2025-07-25 17:13:43 | INFO | __main__:main:70 | 屏幕分析完成，识别到 0 个元素，耗时: 3.64秒
2025-07-25 17:13:43 | INFO | __main__:main:75 | 查找界面元素...
2025-07-25 17:13:43 | INFO | __main__:main:82 | 创建自动化任务...
2025-07-25 17:13:43 | INFO | src.core.task_manager:create_task:125 | 创建任务: 示例任务
2025-07-25 17:13:43 | DEBUG | src.core.task_manager:add_action_step:160 | 向任务 示例任务 添加操作步骤: click_step
2025-07-25 17:13:43 | DEBUG | src.core.task_manager:add_action_step:160 | 向任务 示例任务 添加操作步骤: wait_step
2025-07-25 17:13:43 | DEBUG | src.core.task_manager:add_condition_step:194 | 向任务 示例任务 添加条件步骤: condition_step
2025-07-25 17:13:43 | INFO | __main__:main:100 | 执行任务...
2025-07-25 17:13:43 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: task_execution
2025-07-25 17:13:43 | INFO | src.core.task_manager:_execute_task_impl:283 | 开始执行任务: 示例任务
2025-07-25 17:13:43 | INFO | src.core.task_manager:_execute_task_impl:296 | 执行步骤 1/3: click_step
2025-07-25 17:13:43 | ERROR | src.core.controller:tap_coordinate:351 | 点击坐标失败: 自动化服务未初始化
2025-07-25 17:13:43 | DEBUG | src.core.task_manager:_execute_action_step:377 | 步骤 click_step 第 2 次重试
2025-07-25 17:13:44 | ERROR | src.core.controller:tap_coordinate:351 | 点击坐标失败: 自动化服务未初始化
2025-07-25 17:13:44 | DEBUG | src.core.task_manager:_execute_action_step:377 | 步骤 click_step 第 3 次重试
2025-07-25 17:13:45 | ERROR | src.core.controller:tap_coordinate:351 | 点击坐标失败: 自动化服务未初始化
2025-07-25 17:13:45 | ERROR | src.core.task_manager:_execute_action_step:413 | 步骤 click_step 重试 3 次后仍然失败
2025-07-25 17:13:45 | ERROR | src.core.task_manager:_execute_step:356 | 步骤 click_step 执行失败
2025-07-25 17:13:45 | ERROR | src.core.task_manager:_execute_task_impl:307 | 步骤 click_step 执行失败，停止任务执行
2025-07-25 17:13:45 | INFO | src.core.task_manager:_execute_task_impl:333 | 任务 示例任务 执行耗时: 2.00秒
2025-07-25 17:13:45 | INFO | src.utils.logger:log_performance:242 | task_execution 执行完成
2025-07-25 17:13:45 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: task_execution (2.003s)
2025-07-25 17:13:45 | WARNING | __main__:main:107 | 任务执行失败
2025-07-25 17:13:45 | INFO | __main__:main:111 | 系统状态: 连接=ConnectionStatus.CONNECTED, 内存使用=0.0MB
2025-07-25 17:13:45 | INFO | __main__:main:115 | 性能统计:
2025-07-25 17:13:45 | INFO | __main__:main:121 |   total_operations: 0
2025-07-25 17:13:45 | INFO | __main__:main:121 |   successful_operations: 0
2025-07-25 17:13:45 | INFO | __main__:main:121 |   failed_operations: 0
2025-07-25 17:13:45 | INFO | __main__:main:119 |   average_response_time: 0.00秒
2025-07-25 17:13:45 | INFO | __main__:main:123 |   last_operation_time: None
2025-07-25 17:13:45 | INFO | __main__:main:130 | 清理资源...
2025-07-25 17:13:45 | INFO | src.core.controller:disconnect_device:138 | 正在断开设备连接...
2025-07-25 17:13:45 | INFO | src.services.connection:disconnect:438 | 正在断开设备连接...
2025-07-25 17:13:45 | INFO | src.services.connection:disconnect:449 | 设备连接已断开
2025-07-25 17:13:45 | INFO | src.core.controller:disconnect_device:150 | 设备连接已断开
2025-07-25 17:13:45 | INFO | __main__:main:133 | 设备连接已断开
2025-07-25 17:17:14 | INFO | src.utils.logger:setup_logger:77 | 日志系统初始化完成
2025-07-25 17:17:14 | INFO | src.utils.config:_find_config_file:129 | 找到配置文件: config.yaml
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: timeout
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: retry_count
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: tunneld_port
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: connection_mode
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: enable_vlm
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: vlm_config
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: max_detections
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: screenshot
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: backend
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: webdriver
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: pymobiledevice
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: actions
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: task
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: performance
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: error
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: system
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: security
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: development
2025-07-25 17:17:14 | DEBUG | src.utils.config:_load_from_file:170 | 从文件加载配置: config.yaml
2025-07-25 17:17:14 | INFO | src.utils.config:_load_config:148 | 配置加载完成
2025-07-25 17:18:28 | INFO | src.utils.logger:setup_logger:77 | 日志系统初始化完成
2025-07-25 17:18:28 | INFO | src.utils.config:_find_config_file:129 | 找到配置文件: config.yaml
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: timeout
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: retry_count
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: tunneld_port
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: connection_mode
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: enable_vlm
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: vlm_config
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: max_detections
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: screenshot
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: backend
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: webdriver
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: pymobiledevice
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: actions
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: task
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: performance
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: error
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: system
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: security
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: development
2025-07-25 17:18:28 | DEBUG | src.utils.config:_load_from_file:170 | 从文件加载配置: config.yaml
2025-07-25 17:18:28 | INFO | src.utils.config:_load_config:148 | 配置加载完成
2025-07-25 17:34:49 | INFO | src.utils.logger:setup_logger:77 | 日志系统初始化完成
2025-07-25 17:34:49 | INFO | __main__:main:27 | 启动iPad自动化控制系统示例
2025-07-25 17:34:49 | INFO | __main__:main:31 | 初始化系统...
2025-07-25 17:34:49 | INFO | src.services.vision:_load_templates:48 | 正在从 templates 加载模板图像...
2025-07-25 17:34:49 | INFO | src.services.vision:_load_templates:78 | 模板加载完成，共 0 个模板
2025-07-25 17:34:49 | INFO | __main__:main:38 | 连接iPad设备...
2025-07-25 17:34:49 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: device_connection
2025-07-25 17:34:49 | INFO | src.core.controller:connect_device:112 | 正在连接iPad设备...
2025-07-25 17:34:49 | INFO | src.services.connection:connect:313 | 正在连接USB设备...
2025-07-25 17:34:49 | INFO | src.services.connection:connect:325 | 检测到设备: Unknown Device (iOS Unknown, Unknown)
2025-07-25 17:34:49 | WARNING | src.services.connection:connect:346 | 标准截图服务不可用: InvalidService
2025-07-25 17:34:49 | INFO | src.services.connection:connect:347 | 尝试使用外部命令进行截图...
2025-07-25 17:34:49 | INFO | src.services.connection:connect:363 | 将使用外部命令进行截图
2025-07-25 17:34:51 | INFO | src.services.connection:connect:370 | 屏幕尺寸: 2752x2064
2025-07-25 17:34:51 | INFO | src.services.connection:connect:410 | USB连接成功，耗时: 1.78秒
2025-07-25 17:34:51 | INFO | src.core.controller:connect_device:123 | 设备连接成功: Unknown Device (Unknown)
2025-07-25 17:34:51 | INFO | src.utils.logger:log_performance:242 | device_connection 执行完成
2025-07-25 17:34:51 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: device_connection (1.780s)
2025-07-25 17:34:51 | INFO | __main__:main:43 | 设备连接成功，耗时: 1.78秒
2025-07-25 17:34:51 | INFO | __main__:main:51 | 设备信息: Unknown Device - Unknown
2025-07-25 17:34:51 | INFO | __main__:main:54 | 获取屏幕截图...
2025-07-25 17:34:51 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: screenshot
2025-07-25 17:34:52 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.511秒
2025-07-25 17:34:54 | DEBUG | src.services.connection:_auto_save_screenshot_if_enabled:631 | 自动保存截图: auto_screenshot_20250725_173452_768.png
2025-07-25 17:34:54 | INFO | src.utils.logger:log_performance:242 | screenshot 执行完成
2025-07-25 17:34:54 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: screenshot (3.423s)
2025-07-25 17:34:54 | INFO | __main__:main:59 | 截图成功，尺寸: (2064, 2752, 3), 耗时: 3.42秒
2025-07-25 17:34:54 | INFO | __main__:main:65 | 分析屏幕内容...
2025-07-25 17:34:54 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: screen_analysis
2025-07-25 17:34:56 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.554秒
2025-07-25 17:34:58 | DEBUG | src.services.connection:_auto_save_screenshot_if_enabled:631 | 自动保存截图: auto_screenshot_20250725_173456_234.png
2025-07-25 17:34:58 | DEBUG | src.core.controller:take_screenshot:200 | 截图获取成功
2025-07-25 17:34:58 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: main_menu
2025-07-25 17:34:58 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: world_map
2025-07-25 17:34:58 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: battle_ui
2025-07-25 17:34:58 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: city_view
2025-07-25 17:34:58 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: confirm_button
2025-07-25 17:34:58 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: cancel_button
2025-07-25 17:34:58 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: close_button
2025-07-25 17:34:58 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: back_button
2025-07-25 17:34:58 | INFO | src.core.controller:analyze_screen:229 | 屏幕分析完成: unknown, 找到 0 个元素
2025-07-25 17:34:58 | INFO | src.utils.logger:log_performance:242 | screen_analysis 执行完成
2025-07-25 17:34:58 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: screen_analysis (3.494s)
2025-07-25 17:34:58 | INFO | __main__:main:70 | 屏幕分析完成，识别到 0 个元素，耗时: 3.49秒
2025-07-25 17:34:58 | INFO | __main__:main:75 | 查找界面元素...
2025-07-25 17:34:58 | INFO | __main__:main:82 | 创建自动化任务...
2025-07-25 17:34:58 | INFO | src.core.task_manager:create_task:125 | 创建任务: 示例任务
2025-07-25 17:34:58 | DEBUG | src.core.task_manager:add_action_step:160 | 向任务 示例任务 添加操作步骤: click_step
2025-07-25 17:34:58 | DEBUG | src.core.task_manager:add_action_step:160 | 向任务 示例任务 添加操作步骤: wait_step
2025-07-25 17:34:58 | DEBUG | src.core.task_manager:add_condition_step:194 | 向任务 示例任务 添加条件步骤: condition_step
2025-07-25 17:34:58 | INFO | __main__:main:100 | 执行任务...
2025-07-25 17:34:58 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: task_execution
2025-07-25 17:34:58 | INFO | src.core.task_manager:_execute_task_impl:283 | 开始执行任务: 示例任务
2025-07-25 17:34:58 | INFO | src.core.task_manager:_execute_task_impl:296 | 执行步骤 1/3: click_step
2025-07-25 17:34:58 | ERROR | src.core.controller:tap_coordinate:351 | 点击坐标失败: 自动化服务未初始化
2025-07-25 17:34:58 | DEBUG | src.core.task_manager:_execute_action_step:377 | 步骤 click_step 第 2 次重试
2025-07-25 17:34:59 | ERROR | src.core.controller:tap_coordinate:351 | 点击坐标失败: 自动化服务未初始化
2025-07-25 17:34:59 | DEBUG | src.core.task_manager:_execute_action_step:377 | 步骤 click_step 第 3 次重试
2025-07-25 17:35:00 | ERROR | src.core.controller:tap_coordinate:351 | 点击坐标失败: 自动化服务未初始化
2025-07-25 17:35:00 | ERROR | src.core.task_manager:_execute_action_step:413 | 步骤 click_step 重试 3 次后仍然失败
2025-07-25 17:35:00 | ERROR | src.core.task_manager:_execute_step:356 | 步骤 click_step 执行失败
2025-07-25 17:35:00 | ERROR | src.core.task_manager:_execute_task_impl:307 | 步骤 click_step 执行失败，停止任务执行
2025-07-25 17:35:00 | INFO | src.core.task_manager:_execute_task_impl:333 | 任务 示例任务 执行耗时: 2.00秒
2025-07-25 17:35:00 | INFO | src.utils.logger:log_performance:242 | task_execution 执行完成
2025-07-25 17:35:00 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: task_execution (2.006s)
2025-07-25 17:35:00 | WARNING | __main__:main:107 | 任务执行失败
2025-07-25 17:35:00 | INFO | __main__:main:111 | 系统状态: 连接=ConnectionStatus.CONNECTED, 内存使用=0.0MB
2025-07-25 17:35:00 | INFO | __main__:main:115 | 性能统计:
2025-07-25 17:35:00 | INFO | __main__:main:121 |   total_operations: 0
2025-07-25 17:35:00 | INFO | __main__:main:121 |   successful_operations: 0
2025-07-25 17:35:00 | INFO | __main__:main:121 |   failed_operations: 0
2025-07-25 17:35:00 | INFO | __main__:main:119 |   average_response_time: 0.00秒
2025-07-25 17:35:00 | INFO | __main__:main:123 |   last_operation_time: None
2025-07-25 17:35:00 | INFO | __main__:main:130 | 清理资源...
2025-07-25 17:35:00 | INFO | src.core.controller:disconnect_device:138 | 正在断开设备连接...
2025-07-25 17:35:00 | INFO | src.services.connection:disconnect:438 | 正在断开设备连接...
2025-07-25 17:35:00 | INFO | src.services.connection:disconnect:449 | 设备连接已断开
2025-07-25 17:35:00 | INFO | src.core.controller:disconnect_device:150 | 设备连接已断开
2025-07-25 17:35:00 | INFO | __main__:main:133 | 设备连接已断开
2025-07-28 11:17:33 | INFO | src.utils.logger:setup_logger:77 | 日志系统初始化完成
2025-07-28 11:17:33 | ERROR | __main__:main:105 | Screenshot stability test error: 'ConnectionConfig' object has no attribute 'timeout'
2025-07-28 11:18:01 | INFO | src.utils.logger:setup_logger:77 | 日志系统初始化完成
2025-07-28 11:18:28 | INFO | src.utils.logger:setup_logger:77 | 日志系统初始化完成
2025-07-28 11:18:29 | INFO | src.services.connection:connect:313 | 正在连接USB设备...
2025-07-28 11:18:29 | INFO | src.services.connection:connect:325 | 检测到设备: Unknown Device (iOS Unknown, Unknown)
2025-07-28 11:18:29 | WARNING | src.services.connection:connect:346 | 标准截图服务不可用: InvalidService
2025-07-28 11:18:29 | INFO | src.services.connection:connect:347 | 尝试使用外部命令进行截图...
2025-07-28 11:18:29 | INFO | src.services.connection:connect:363 | 将使用外部命令进行截图
2025-07-28 11:18:30 | INFO | src.services.connection:connect:370 | 屏幕尺寸: 2752x2064
2025-07-28 11:18:30 | INFO | src.services.connection:connect:410 | USB连接成功，耗时: 1.52秒
2025-07-28 11:18:31 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.163秒
2025-07-28 11:18:33 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.183秒
2025-07-28 11:18:36 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.665秒
2025-07-28 11:18:45 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 8.114秒
2025-07-28 11:18:47 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.191秒
2025-07-28 11:18:50 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.160秒
2025-07-28 11:18:52 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.188秒
2025-07-28 11:18:54 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.162秒
2025-07-28 11:18:56 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.223秒
2025-07-28 11:18:58 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.178秒
2025-07-28 11:19:15 | INFO | src.utils.logger:setup_logger:77 | 日志系统初始化完成
2025-07-28 11:19:15 | INFO | src.services.connection:connect:313 | 正在连接USB设备...
2025-07-28 11:19:15 | INFO | src.services.connection:connect:325 | 检测到设备: Unknown Device (iOS Unknown, Unknown)
2025-07-28 11:19:15 | WARNING | src.services.connection:connect:346 | 标准截图服务不可用: InvalidService
2025-07-28 11:19:15 | INFO | src.services.connection:connect:347 | 尝试使用外部命令进行截图...
2025-07-28 11:19:15 | INFO | src.services.connection:connect:363 | 将使用外部命令进行截图
2025-07-28 11:19:16 | INFO | src.services.connection:connect:370 | 屏幕尺寸: 2752x2064
2025-07-28 11:19:16 | INFO | src.services.connection:connect:410 | USB连接成功，耗时: 1.52秒
2025-07-28 11:19:17 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.229秒
2025-07-28 11:19:20 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.278秒
2025-07-28 11:19:22 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.217秒
2025-07-28 11:19:24 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.284秒
2025-07-28 11:19:26 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.400秒
2025-07-28 11:19:29 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.286秒
2025-07-28 11:19:31 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.487秒
2025-07-28 11:19:34 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.478秒
2025-07-28 11:19:36 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.505秒
2025-07-28 11:19:39 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.495秒
2025-07-28 11:20:05 | INFO | src.utils.logger:setup_logger:77 | 日志系统初始化完成
2025-07-28 11:20:05 | INFO | src.services.connection:connect:313 | 正在连接USB设备...
2025-07-28 11:20:05 | INFO | src.services.connection:connect:325 | 检测到设备: Unknown Device (iOS Unknown, Unknown)
2025-07-28 11:20:05 | WARNING | src.services.connection:connect:346 | 标准截图服务不可用: InvalidService
2025-07-28 11:20:05 | INFO | src.services.connection:connect:347 | 尝试使用外部命令进行截图...
2025-07-28 11:20:05 | INFO | src.services.connection:connect:363 | 将使用外部命令进行截图
2025-07-28 11:20:07 | INFO | src.services.connection:connect:370 | 屏幕尺寸: 2752x2064
2025-07-28 11:20:07 | INFO | src.services.connection:connect:410 | USB连接成功，耗时: 1.87秒
2025-07-28 11:20:09 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.486秒
2025-07-28 11:20:11 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.523秒
2025-07-28 11:20:14 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.473秒
2025-07-28 11:20:16 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.488秒
2025-07-28 11:20:19 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.471秒
2025-07-28 11:20:21 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.523秒
2025-07-28 11:20:24 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.502秒
2025-07-28 11:20:26 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.438秒
2025-07-28 11:20:28 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.457秒
2025-07-28 11:20:31 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.432秒
