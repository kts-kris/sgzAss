2025-07-25 17:07:53 | INFO | src.utils.logger:setup_logger:77 | 日志系统初始化完成
2025-07-25 17:07:53 | INFO | __main__:main:27 | 启动iPad自动化控制系统示例
2025-07-25 17:07:53 | INFO | __main__:main:31 | 初始化系统...
2025-07-25 17:07:53 | INFO | src.services.vision:_load_templates:48 | 正在从 templates 加载模板图像...
2025-07-25 17:07:53 | INFO | src.services.vision:_load_templates:78 | 模板加载完成，共 0 个模板
2025-07-25 17:07:53 | INFO | __main__:main:38 | 连接iPad设备...
2025-07-25 17:07:53 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: device_connection
2025-07-25 17:07:53 | INFO | src.core.controller:connect_device:112 | 正在连接iPad设备...
2025-07-25 17:07:53 | INFO | src.services.connection:connect:312 | 正在连接USB设备...
2025-07-25 17:07:53 | INFO | src.services.connection:connect:324 | 检测到设备: Unknown Device (iOS Unknown, Unknown)
2025-07-25 17:07:53 | WARNING | src.services.connection:connect:345 | 标准截图服务不可用: InvalidService
2025-07-25 17:07:53 | INFO | src.services.connection:connect:346 | 尝试使用外部命令进行截图...
2025-07-25 17:07:53 | INFO | src.services.connection:connect:362 | 将使用外部命令进行截图
2025-07-25 17:07:55 | INFO | src.services.connection:connect:369 | 屏幕尺寸: 2752x2064
2025-07-25 17:07:55 | INFO | src.services.connection:connect:409 | USB连接成功，耗时: 1.78秒
2025-07-25 17:07:55 | INFO | src.core.controller:connect_device:123 | 设备连接成功: Unknown Device (Unknown)
2025-07-25 17:07:55 | INFO | src.utils.logger:log_performance:242 | device_connection 执行完成
2025-07-25 17:07:55 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: device_connection (1.779s)
2025-07-25 17:07:55 | INFO | __main__:main:43 | 设备连接成功，耗时: 1.78秒
2025-07-25 17:07:55 | INFO | __main__:main:51 | 设备信息: Unknown Device - Unknown
2025-07-25 17:07:55 | INFO | __main__:main:54 | 获取屏幕截图...
2025-07-25 17:07:55 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: screenshot
2025-07-25 17:07:56 | DEBUG | src.services.connection:get_screenshot:471 | 截图成功，耗时: 1.480秒
2025-07-25 17:07:56 | INFO | src.utils.logger:log_performance:242 | screenshot 执行完成
2025-07-25 17:07:56 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: screenshot (1.480s)
2025-07-25 17:07:56 | INFO | __main__:main:59 | 截图成功，尺寸: (2064, 2752, 3), 耗时: 1.48秒
2025-07-25 17:07:56 | INFO | __main__:main:65 | 分析屏幕内容...
2025-07-25 17:07:56 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: screen_analysis
2025-07-25 17:07:58 | DEBUG | src.services.connection:get_screenshot:471 | 截图成功，耗时: 1.499秒
2025-07-25 17:07:58 | DEBUG | src.core.controller:take_screenshot:200 | 截图获取成功
2025-07-25 17:07:58 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: main_menu
2025-07-25 17:07:58 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: world_map
2025-07-25 17:07:58 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: battle_ui
2025-07-25 17:07:58 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: city_view
2025-07-25 17:07:58 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: confirm_button
2025-07-25 17:07:58 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: cancel_button
2025-07-25 17:07:58 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: close_button
2025-07-25 17:07:58 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: back_button
2025-07-25 17:07:58 | INFO | src.core.controller:analyze_screen:229 | 屏幕分析完成: unknown, 找到 0 个元素
2025-07-25 17:07:58 | INFO | src.utils.logger:log_performance:242 | screen_analysis 执行完成
2025-07-25 17:07:58 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: screen_analysis (1.500s)
2025-07-25 17:07:58 | INFO | __main__:main:70 | 屏幕分析完成，识别到 0 个元素，耗时: 1.50秒
2025-07-25 17:07:58 | INFO | __main__:main:75 | 查找界面元素...
2025-07-25 17:07:58 | INFO | __main__:main:82 | 创建自动化任务...
2025-07-25 17:07:58 | INFO | src.core.task_manager:create_task:125 | 创建任务: 示例任务
2025-07-25 17:07:58 | DEBUG | src.core.task_manager:add_action_step:160 | 向任务 示例任务 添加操作步骤: click_step
2025-07-25 17:07:58 | DEBUG | src.core.task_manager:add_action_step:160 | 向任务 示例任务 添加操作步骤: wait_step
2025-07-25 17:07:58 | DEBUG | src.core.task_manager:add_condition_step:194 | 向任务 示例任务 添加条件步骤: condition_step
2025-07-25 17:07:58 | INFO | __main__:main:100 | 执行任务...
2025-07-25 17:07:58 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: task_execution
2025-07-25 17:07:58 | INFO | src.core.task_manager:_execute_task_impl:283 | 开始执行任务: 示例任务
2025-07-25 17:07:58 | INFO | src.core.task_manager:_execute_task_impl:296 | 执行步骤 1/3: click_step
2025-07-25 17:07:58 | ERROR | src.core.controller:tap_coordinate:351 | 点击坐标失败: 自动化服务未初始化
2025-07-25 17:07:58 | DEBUG | src.core.task_manager:_execute_action_step:377 | 步骤 click_step 第 2 次重试
2025-07-25 17:07:59 | ERROR | src.core.controller:tap_coordinate:351 | 点击坐标失败: 自动化服务未初始化
2025-07-25 17:07:59 | DEBUG | src.core.task_manager:_execute_action_step:377 | 步骤 click_step 第 3 次重试
2025-07-25 17:08:00 | ERROR | src.core.controller:tap_coordinate:351 | 点击坐标失败: 自动化服务未初始化
2025-07-25 17:08:00 | ERROR | src.core.task_manager:_execute_action_step:413 | 步骤 click_step 重试 3 次后仍然失败
2025-07-25 17:08:00 | ERROR | src.core.task_manager:_execute_step:356 | 步骤 click_step 执行失败
2025-07-25 17:08:00 | ERROR | src.core.task_manager:_execute_task_impl:307 | 步骤 click_step 执行失败，停止任务执行
2025-07-25 17:08:00 | INFO | src.core.task_manager:_execute_task_impl:333 | 任务 示例任务 执行耗时: 2.01秒
2025-07-25 17:08:00 | INFO | src.utils.logger:log_performance:242 | task_execution 执行完成
2025-07-25 17:08:00 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: task_execution (2.008s)
2025-07-25 17:08:00 | WARNING | __main__:main:107 | 任务执行失败
2025-07-25 17:08:00 | INFO | __main__:main:111 | 系统状态: 连接=ConnectionStatus.CONNECTED, 内存使用=0.0MB
2025-07-25 17:08:00 | INFO | __main__:main:115 | 性能统计:
2025-07-25 17:08:00 | INFO | __main__:main:121 |   total_operations: 0
2025-07-25 17:08:00 | INFO | __main__:main:121 |   successful_operations: 0
2025-07-25 17:08:00 | INFO | __main__:main:121 |   failed_operations: 0
2025-07-25 17:08:00 | INFO | __main__:main:119 |   average_response_time: 0.00秒
2025-07-25 17:08:00 | INFO | __main__:main:123 |   last_operation_time: None
2025-07-25 17:08:00 | INFO | __main__:main:130 | 清理资源...
2025-07-25 17:08:00 | INFO | src.core.controller:disconnect_device:138 | 正在断开设备连接...
2025-07-25 17:08:00 | INFO | src.services.connection:disconnect:437 | 正在断开设备连接...
2025-07-25 17:08:00 | INFO | src.services.connection:disconnect:448 | 设备连接已断开
2025-07-25 17:08:00 | INFO | src.core.controller:disconnect_device:150 | 设备连接已断开
2025-07-25 17:08:00 | INFO | __main__:main:133 | 设备连接已断开
2025-07-25 17:10:15 | INFO | src.utils.logger:setup_logger:77 | 日志系统初始化完成
2025-07-25 17:10:15 | INFO | __main__:main:27 | 启动iPad自动化控制系统示例
2025-07-25 17:10:15 | INFO | __main__:main:31 | 初始化系统...
2025-07-25 17:10:15 | INFO | src.services.vision:_load_templates:48 | 正在从 templates 加载模板图像...
2025-07-25 17:10:15 | INFO | src.services.vision:_load_templates:78 | 模板加载完成，共 0 个模板
2025-07-25 17:10:15 | INFO | __main__:main:38 | 连接iPad设备...
2025-07-25 17:10:15 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: device_connection
2025-07-25 17:10:15 | INFO | src.core.controller:connect_device:112 | 正在连接iPad设备...
2025-07-25 17:10:15 | INFO | src.services.connection:connect:313 | 正在连接USB设备...
2025-07-25 17:10:15 | INFO | src.services.connection:connect:325 | 检测到设备: Unknown Device (iOS Unknown, Unknown)
2025-07-25 17:10:15 | WARNING | src.services.connection:connect:346 | 标准截图服务不可用: InvalidService
2025-07-25 17:10:15 | INFO | src.services.connection:connect:347 | 尝试使用外部命令进行截图...
2025-07-25 17:10:15 | INFO | src.services.connection:connect:363 | 将使用外部命令进行截图
2025-07-25 17:10:17 | INFO | src.services.connection:connect:370 | 屏幕尺寸: 2752x2064
2025-07-25 17:10:17 | INFO | src.services.connection:connect:410 | USB连接成功，耗时: 1.82秒
2025-07-25 17:10:17 | INFO | src.core.controller:connect_device:123 | 设备连接成功: Unknown Device (Unknown)
2025-07-25 17:10:17 | INFO | src.utils.logger:log_performance:242 | device_connection 执行完成
2025-07-25 17:10:17 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: device_connection (1.819s)
2025-07-25 17:10:17 | INFO | __main__:main:43 | 设备连接成功，耗时: 1.82秒
2025-07-25 17:10:17 | INFO | __main__:main:51 | 设备信息: Unknown Device - Unknown
2025-07-25 17:10:17 | INFO | __main__:main:54 | 获取屏幕截图...
2025-07-25 17:10:17 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: screenshot
2025-07-25 17:10:19 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.501秒
2025-07-25 17:10:21 | DEBUG | src.services.connection:_auto_save_screenshot_if_enabled:631 | 自动保存截图: auto_screenshot_20250725_171019_026.png
2025-07-25 17:10:21 | INFO | src.utils.logger:log_performance:242 | screenshot 执行完成
2025-07-25 17:10:21 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: screenshot (3.751s)
2025-07-25 17:10:21 | INFO | __main__:main:59 | 截图成功，尺寸: (2064, 2752, 3), 耗时: 3.75秒
2025-07-25 17:10:21 | INFO | __main__:main:65 | 分析屏幕内容...
2025-07-25 17:10:21 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: screen_analysis
2025-07-25 17:10:22 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.606秒
2025-07-25 17:10:24 | DEBUG | src.services.connection:_auto_save_screenshot_if_enabled:631 | 自动保存截图: auto_screenshot_20250725_171022_883.png
2025-07-25 17:10:24 | DEBUG | src.core.controller:take_screenshot:200 | 截图获取成功
2025-07-25 17:10:24 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: main_menu
2025-07-25 17:10:24 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: world_map
2025-07-25 17:10:24 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: battle_ui
2025-07-25 17:10:24 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: city_view
2025-07-25 17:10:24 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: confirm_button
2025-07-25 17:10:24 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: cancel_button
2025-07-25 17:10:24 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: close_button
2025-07-25 17:10:24 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: back_button
2025-07-25 17:10:24 | INFO | src.core.controller:analyze_screen:229 | 屏幕分析完成: unknown, 找到 0 个元素
2025-07-25 17:10:24 | INFO | src.utils.logger:log_performance:242 | screen_analysis 执行完成
2025-07-25 17:10:24 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: screen_analysis (3.722s)
2025-07-25 17:10:24 | INFO | __main__:main:70 | 屏幕分析完成，识别到 0 个元素，耗时: 3.72秒
2025-07-25 17:10:24 | INFO | __main__:main:75 | 查找界面元素...
2025-07-25 17:10:24 | INFO | __main__:main:82 | 创建自动化任务...
2025-07-25 17:10:24 | INFO | src.core.task_manager:create_task:125 | 创建任务: 示例任务
2025-07-25 17:10:24 | DEBUG | src.core.task_manager:add_action_step:160 | 向任务 示例任务 添加操作步骤: click_step
2025-07-25 17:10:24 | DEBUG | src.core.task_manager:add_action_step:160 | 向任务 示例任务 添加操作步骤: wait_step
2025-07-25 17:10:24 | DEBUG | src.core.task_manager:add_condition_step:194 | 向任务 示例任务 添加条件步骤: condition_step
2025-07-25 17:10:24 | INFO | __main__:main:100 | 执行任务...
2025-07-25 17:10:24 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: task_execution
2025-07-25 17:10:24 | INFO | src.core.task_manager:_execute_task_impl:283 | 开始执行任务: 示例任务
2025-07-25 17:10:24 | INFO | src.core.task_manager:_execute_task_impl:296 | 执行步骤 1/3: click_step
2025-07-25 17:10:24 | ERROR | src.core.controller:tap_coordinate:351 | 点击坐标失败: 自动化服务未初始化
2025-07-25 17:10:24 | DEBUG | src.core.task_manager:_execute_action_step:377 | 步骤 click_step 第 2 次重试
2025-07-25 17:10:25 | ERROR | src.core.controller:tap_coordinate:351 | 点击坐标失败: 自动化服务未初始化
2025-07-25 17:10:26 | DEBUG | src.core.task_manager:_execute_action_step:377 | 步骤 click_step 第 3 次重试
2025-07-25 17:10:27 | ERROR | src.core.controller:tap_coordinate:351 | 点击坐标失败: 自动化服务未初始化
2025-07-25 17:10:27 | ERROR | src.core.task_manager:_execute_action_step:413 | 步骤 click_step 重试 3 次后仍然失败
2025-07-25 17:10:27 | ERROR | src.core.task_manager:_execute_step:356 | 步骤 click_step 执行失败
2025-07-25 17:10:27 | ERROR | src.core.task_manager:_execute_task_impl:307 | 步骤 click_step 执行失败，停止任务执行
2025-07-25 17:10:27 | INFO | src.core.task_manager:_execute_task_impl:333 | 任务 示例任务 执行耗时: 2.00秒
2025-07-25 17:10:27 | INFO | src.utils.logger:log_performance:242 | task_execution 执行完成
2025-07-25 17:10:27 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: task_execution (2.004s)
2025-07-25 17:10:27 | WARNING | __main__:main:107 | 任务执行失败
2025-07-25 17:10:27 | INFO | __main__:main:111 | 系统状态: 连接=ConnectionStatus.CONNECTED, 内存使用=0.0MB
2025-07-25 17:10:27 | INFO | __main__:main:115 | 性能统计:
2025-07-25 17:10:27 | INFO | __main__:main:121 |   total_operations: 0
2025-07-25 17:10:27 | INFO | __main__:main:121 |   successful_operations: 0
2025-07-25 17:10:27 | INFO | __main__:main:121 |   failed_operations: 0
2025-07-25 17:10:27 | INFO | __main__:main:119 |   average_response_time: 0.00秒
2025-07-25 17:10:27 | INFO | __main__:main:123 |   last_operation_time: None
2025-07-25 17:10:27 | INFO | __main__:main:130 | 清理资源...
2025-07-25 17:10:27 | INFO | src.core.controller:disconnect_device:138 | 正在断开设备连接...
2025-07-25 17:10:27 | INFO | src.services.connection:disconnect:438 | 正在断开设备连接...
2025-07-25 17:10:27 | INFO | src.services.connection:disconnect:449 | 设备连接已断开
2025-07-25 17:10:27 | INFO | src.core.controller:disconnect_device:150 | 设备连接已断开
2025-07-25 17:10:27 | INFO | __main__:main:133 | 设备连接已断开
2025-07-25 17:13:34 | INFO | src.utils.logger:setup_logger:77 | 日志系统初始化完成
2025-07-25 17:13:34 | INFO | __main__:main:27 | 启动iPad自动化控制系统示例
2025-07-25 17:13:34 | INFO | __main__:main:31 | 初始化系统...
2025-07-25 17:13:34 | INFO | src.services.vision:_load_templates:48 | 正在从 templates 加载模板图像...
2025-07-25 17:13:34 | INFO | src.services.vision:_load_templates:78 | 模板加载完成，共 0 个模板
2025-07-25 17:13:34 | INFO | __main__:main:38 | 连接iPad设备...
2025-07-25 17:13:34 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: device_connection
2025-07-25 17:13:34 | INFO | src.core.controller:connect_device:112 | 正在连接iPad设备...
2025-07-25 17:13:34 | INFO | src.services.connection:connect:313 | 正在连接USB设备...
2025-07-25 17:13:34 | INFO | src.services.connection:connect:325 | 检测到设备: Unknown Device (iOS Unknown, Unknown)
2025-07-25 17:13:34 | WARNING | src.services.connection:connect:346 | 标准截图服务不可用: InvalidService
2025-07-25 17:13:34 | INFO | src.services.connection:connect:347 | 尝试使用外部命令进行截图...
2025-07-25 17:13:34 | INFO | src.services.connection:connect:363 | 将使用外部命令进行截图
2025-07-25 17:13:36 | INFO | src.services.connection:connect:370 | 屏幕尺寸: 2752x2064
2025-07-25 17:13:36 | INFO | src.services.connection:connect:410 | USB连接成功，耗时: 1.81秒
2025-07-25 17:13:36 | INFO | src.core.controller:connect_device:123 | 设备连接成功: Unknown Device (Unknown)
2025-07-25 17:13:36 | INFO | src.utils.logger:log_performance:242 | device_connection 执行完成
2025-07-25 17:13:36 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: device_connection (1.808s)
2025-07-25 17:13:36 | INFO | __main__:main:43 | 设备连接成功，耗时: 1.81秒
2025-07-25 17:13:36 | INFO | __main__:main:51 | 设备信息: Unknown Device - Unknown
2025-07-25 17:13:36 | INFO | __main__:main:54 | 获取屏幕截图...
2025-07-25 17:13:36 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: screenshot
2025-07-25 17:13:37 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.528秒
2025-07-25 17:13:39 | DEBUG | src.services.connection:_auto_save_screenshot_if_enabled:631 | 自动保存截图: auto_screenshot_20250725_171337_815.png
2025-07-25 17:13:39 | INFO | src.utils.logger:log_performance:242 | screenshot 执行完成
2025-07-25 17:13:39 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: screenshot (3.625s)
2025-07-25 17:13:39 | INFO | __main__:main:59 | 截图成功，尺寸: (2064, 2752, 3), 耗时: 3.62秒
2025-07-25 17:13:39 | INFO | __main__:main:65 | 分析屏幕内容...
2025-07-25 17:13:39 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: screen_analysis
2025-07-25 17:13:41 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.539秒
2025-07-25 17:13:43 | DEBUG | src.services.connection:_auto_save_screenshot_if_enabled:631 | 自动保存截图: auto_screenshot_20250725_171341_451.png
2025-07-25 17:13:43 | DEBUG | src.core.controller:take_screenshot:200 | 截图获取成功
2025-07-25 17:13:43 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: main_menu
2025-07-25 17:13:43 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: world_map
2025-07-25 17:13:43 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: battle_ui
2025-07-25 17:13:43 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: city_view
2025-07-25 17:13:43 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: confirm_button
2025-07-25 17:13:43 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: cancel_button
2025-07-25 17:13:43 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: close_button
2025-07-25 17:13:43 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: back_button
2025-07-25 17:13:43 | INFO | src.core.controller:analyze_screen:229 | 屏幕分析完成: unknown, 找到 0 个元素
2025-07-25 17:13:43 | INFO | src.utils.logger:log_performance:242 | screen_analysis 执行完成
2025-07-25 17:13:43 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: screen_analysis (3.645s)
2025-07-25 17:13:43 | INFO | __main__:main:70 | 屏幕分析完成，识别到 0 个元素，耗时: 3.64秒
2025-07-25 17:13:43 | INFO | __main__:main:75 | 查找界面元素...
2025-07-25 17:13:43 | INFO | __main__:main:82 | 创建自动化任务...
2025-07-25 17:13:43 | INFO | src.core.task_manager:create_task:125 | 创建任务: 示例任务
2025-07-25 17:13:43 | DEBUG | src.core.task_manager:add_action_step:160 | 向任务 示例任务 添加操作步骤: click_step
2025-07-25 17:13:43 | DEBUG | src.core.task_manager:add_action_step:160 | 向任务 示例任务 添加操作步骤: wait_step
2025-07-25 17:13:43 | DEBUG | src.core.task_manager:add_condition_step:194 | 向任务 示例任务 添加条件步骤: condition_step
2025-07-25 17:13:43 | INFO | __main__:main:100 | 执行任务...
2025-07-25 17:13:43 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: task_execution
2025-07-25 17:13:43 | INFO | src.core.task_manager:_execute_task_impl:283 | 开始执行任务: 示例任务
2025-07-25 17:13:43 | INFO | src.core.task_manager:_execute_task_impl:296 | 执行步骤 1/3: click_step
2025-07-25 17:13:43 | ERROR | src.core.controller:tap_coordinate:351 | 点击坐标失败: 自动化服务未初始化
2025-07-25 17:13:43 | DEBUG | src.core.task_manager:_execute_action_step:377 | 步骤 click_step 第 2 次重试
2025-07-25 17:13:44 | ERROR | src.core.controller:tap_coordinate:351 | 点击坐标失败: 自动化服务未初始化
2025-07-25 17:13:44 | DEBUG | src.core.task_manager:_execute_action_step:377 | 步骤 click_step 第 3 次重试
2025-07-25 17:13:45 | ERROR | src.core.controller:tap_coordinate:351 | 点击坐标失败: 自动化服务未初始化
2025-07-25 17:13:45 | ERROR | src.core.task_manager:_execute_action_step:413 | 步骤 click_step 重试 3 次后仍然失败
2025-07-25 17:13:45 | ERROR | src.core.task_manager:_execute_step:356 | 步骤 click_step 执行失败
2025-07-25 17:13:45 | ERROR | src.core.task_manager:_execute_task_impl:307 | 步骤 click_step 执行失败，停止任务执行
2025-07-25 17:13:45 | INFO | src.core.task_manager:_execute_task_impl:333 | 任务 示例任务 执行耗时: 2.00秒
2025-07-25 17:13:45 | INFO | src.utils.logger:log_performance:242 | task_execution 执行完成
2025-07-25 17:13:45 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: task_execution (2.003s)
2025-07-25 17:13:45 | WARNING | __main__:main:107 | 任务执行失败
2025-07-25 17:13:45 | INFO | __main__:main:111 | 系统状态: 连接=ConnectionStatus.CONNECTED, 内存使用=0.0MB
2025-07-25 17:13:45 | INFO | __main__:main:115 | 性能统计:
2025-07-25 17:13:45 | INFO | __main__:main:121 |   total_operations: 0
2025-07-25 17:13:45 | INFO | __main__:main:121 |   successful_operations: 0
2025-07-25 17:13:45 | INFO | __main__:main:121 |   failed_operations: 0
2025-07-25 17:13:45 | INFO | __main__:main:119 |   average_response_time: 0.00秒
2025-07-25 17:13:45 | INFO | __main__:main:123 |   last_operation_time: None
2025-07-25 17:13:45 | INFO | __main__:main:130 | 清理资源...
2025-07-25 17:13:45 | INFO | src.core.controller:disconnect_device:138 | 正在断开设备连接...
2025-07-25 17:13:45 | INFO | src.services.connection:disconnect:438 | 正在断开设备连接...
2025-07-25 17:13:45 | INFO | src.services.connection:disconnect:449 | 设备连接已断开
2025-07-25 17:13:45 | INFO | src.core.controller:disconnect_device:150 | 设备连接已断开
2025-07-25 17:13:45 | INFO | __main__:main:133 | 设备连接已断开
2025-07-25 17:17:14 | INFO | src.utils.logger:setup_logger:77 | 日志系统初始化完成
2025-07-25 17:17:14 | INFO | src.utils.config:_find_config_file:129 | 找到配置文件: config.yaml
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: timeout
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: retry_count
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: tunneld_port
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: connection_mode
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: enable_vlm
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: vlm_config
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: max_detections
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: screenshot
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: backend
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: webdriver
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: pymobiledevice
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: actions
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: task
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: performance
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: error
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: system
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: security
2025-07-25 17:17:14 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: development
2025-07-25 17:17:14 | DEBUG | src.utils.config:_load_from_file:170 | 从文件加载配置: config.yaml
2025-07-25 17:17:14 | INFO | src.utils.config:_load_config:148 | 配置加载完成
2025-07-25 17:18:28 | INFO | src.utils.logger:setup_logger:77 | 日志系统初始化完成
2025-07-25 17:18:28 | INFO | src.utils.config:_find_config_file:129 | 找到配置文件: config.yaml
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: timeout
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: retry_count
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: tunneld_port
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: connection_mode
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: enable_vlm
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: vlm_config
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: max_detections
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: screenshot
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: backend
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: webdriver
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: pymobiledevice
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: actions
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: task
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: performance
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: error
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: system
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: security
2025-07-25 17:18:28 | WARNING | src.utils.config:update_nested:245 | 未知的配置项: development
2025-07-25 17:18:28 | DEBUG | src.utils.config:_load_from_file:170 | 从文件加载配置: config.yaml
2025-07-25 17:18:28 | INFO | src.utils.config:_load_config:148 | 配置加载完成
2025-07-25 17:34:49 | INFO | src.utils.logger:setup_logger:77 | 日志系统初始化完成
2025-07-25 17:34:49 | INFO | __main__:main:27 | 启动iPad自动化控制系统示例
2025-07-25 17:34:49 | INFO | __main__:main:31 | 初始化系统...
2025-07-25 17:34:49 | INFO | src.services.vision:_load_templates:48 | 正在从 templates 加载模板图像...
2025-07-25 17:34:49 | INFO | src.services.vision:_load_templates:78 | 模板加载完成，共 0 个模板
2025-07-25 17:34:49 | INFO | __main__:main:38 | 连接iPad设备...
2025-07-25 17:34:49 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: device_connection
2025-07-25 17:34:49 | INFO | src.core.controller:connect_device:112 | 正在连接iPad设备...
2025-07-25 17:34:49 | INFO | src.services.connection:connect:313 | 正在连接USB设备...
2025-07-25 17:34:49 | INFO | src.services.connection:connect:325 | 检测到设备: Unknown Device (iOS Unknown, Unknown)
2025-07-25 17:34:49 | WARNING | src.services.connection:connect:346 | 标准截图服务不可用: InvalidService
2025-07-25 17:34:49 | INFO | src.services.connection:connect:347 | 尝试使用外部命令进行截图...
2025-07-25 17:34:49 | INFO | src.services.connection:connect:363 | 将使用外部命令进行截图
2025-07-25 17:34:51 | INFO | src.services.connection:connect:370 | 屏幕尺寸: 2752x2064
2025-07-25 17:34:51 | INFO | src.services.connection:connect:410 | USB连接成功，耗时: 1.78秒
2025-07-25 17:34:51 | INFO | src.core.controller:connect_device:123 | 设备连接成功: Unknown Device (Unknown)
2025-07-25 17:34:51 | INFO | src.utils.logger:log_performance:242 | device_connection 执行完成
2025-07-25 17:34:51 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: device_connection (1.780s)
2025-07-25 17:34:51 | INFO | __main__:main:43 | 设备连接成功，耗时: 1.78秒
2025-07-25 17:34:51 | INFO | __main__:main:51 | 设备信息: Unknown Device - Unknown
2025-07-25 17:34:51 | INFO | __main__:main:54 | 获取屏幕截图...
2025-07-25 17:34:51 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: screenshot
2025-07-25 17:34:52 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.511秒
2025-07-25 17:34:54 | DEBUG | src.services.connection:_auto_save_screenshot_if_enabled:631 | 自动保存截图: auto_screenshot_20250725_173452_768.png
2025-07-25 17:34:54 | INFO | src.utils.logger:log_performance:242 | screenshot 执行完成
2025-07-25 17:34:54 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: screenshot (3.423s)
2025-07-25 17:34:54 | INFO | __main__:main:59 | 截图成功，尺寸: (2064, 2752, 3), 耗时: 3.42秒
2025-07-25 17:34:54 | INFO | __main__:main:65 | 分析屏幕内容...
2025-07-25 17:34:54 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: screen_analysis
2025-07-25 17:34:56 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.554秒
2025-07-25 17:34:58 | DEBUG | src.services.connection:_auto_save_screenshot_if_enabled:631 | 自动保存截图: auto_screenshot_20250725_173456_234.png
2025-07-25 17:34:58 | DEBUG | src.core.controller:take_screenshot:200 | 截图获取成功
2025-07-25 17:34:58 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: main_menu
2025-07-25 17:34:58 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: world_map
2025-07-25 17:34:58 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: battle_ui
2025-07-25 17:34:58 | WARNING | src.services.vision:_find_element_template:167 | 模板不存在: city_view
2025-07-25 17:34:58 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: confirm_button
2025-07-25 17:34:58 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: cancel_button
2025-07-25 17:34:58 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: close_button
2025-07-25 17:34:58 | WARNING | src.services.vision:_find_all_elements_template:212 | 模板不存在: back_button
2025-07-25 17:34:58 | INFO | src.core.controller:analyze_screen:229 | 屏幕分析完成: unknown, 找到 0 个元素
2025-07-25 17:34:58 | INFO | src.utils.logger:log_performance:242 | screen_analysis 执行完成
2025-07-25 17:34:58 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: screen_analysis (3.494s)
2025-07-25 17:34:58 | INFO | __main__:main:70 | 屏幕分析完成，识别到 0 个元素，耗时: 3.49秒
2025-07-25 17:34:58 | INFO | __main__:main:75 | 查找界面元素...
2025-07-25 17:34:58 | INFO | __main__:main:82 | 创建自动化任务...
2025-07-25 17:34:58 | INFO | src.core.task_manager:create_task:125 | 创建任务: 示例任务
2025-07-25 17:34:58 | DEBUG | src.core.task_manager:add_action_step:160 | 向任务 示例任务 添加操作步骤: click_step
2025-07-25 17:34:58 | DEBUG | src.core.task_manager:add_action_step:160 | 向任务 示例任务 添加操作步骤: wait_step
2025-07-25 17:34:58 | DEBUG | src.core.task_manager:add_condition_step:194 | 向任务 示例任务 添加条件步骤: condition_step
2025-07-25 17:34:58 | INFO | __main__:main:100 | 执行任务...
2025-07-25 17:34:58 | DEBUG | src.utils.logger:__enter__:370 | 开始执行: task_execution
2025-07-25 17:34:58 | INFO | src.core.task_manager:_execute_task_impl:283 | 开始执行任务: 示例任务
2025-07-25 17:34:58 | INFO | src.core.task_manager:_execute_task_impl:296 | 执行步骤 1/3: click_step
2025-07-25 17:34:58 | ERROR | src.core.controller:tap_coordinate:351 | 点击坐标失败: 自动化服务未初始化
2025-07-25 17:34:58 | DEBUG | src.core.task_manager:_execute_action_step:377 | 步骤 click_step 第 2 次重试
2025-07-25 17:34:59 | ERROR | src.core.controller:tap_coordinate:351 | 点击坐标失败: 自动化服务未初始化
2025-07-25 17:34:59 | DEBUG | src.core.task_manager:_execute_action_step:377 | 步骤 click_step 第 3 次重试
2025-07-25 17:35:00 | ERROR | src.core.controller:tap_coordinate:351 | 点击坐标失败: 自动化服务未初始化
2025-07-25 17:35:00 | ERROR | src.core.task_manager:_execute_action_step:413 | 步骤 click_step 重试 3 次后仍然失败
2025-07-25 17:35:00 | ERROR | src.core.task_manager:_execute_step:356 | 步骤 click_step 执行失败
2025-07-25 17:35:00 | ERROR | src.core.task_manager:_execute_task_impl:307 | 步骤 click_step 执行失败，停止任务执行
2025-07-25 17:35:00 | INFO | src.core.task_manager:_execute_task_impl:333 | 任务 示例任务 执行耗时: 2.00秒
2025-07-25 17:35:00 | INFO | src.utils.logger:log_performance:242 | task_execution 执行完成
2025-07-25 17:35:00 | DEBUG | src.utils.logger:__exit__:381 | 完成执行: task_execution (2.006s)
2025-07-25 17:35:00 | WARNING | __main__:main:107 | 任务执行失败
2025-07-25 17:35:00 | INFO | __main__:main:111 | 系统状态: 连接=ConnectionStatus.CONNECTED, 内存使用=0.0MB
2025-07-25 17:35:00 | INFO | __main__:main:115 | 性能统计:
2025-07-25 17:35:00 | INFO | __main__:main:121 |   total_operations: 0
2025-07-25 17:35:00 | INFO | __main__:main:121 |   successful_operations: 0
2025-07-25 17:35:00 | INFO | __main__:main:121 |   failed_operations: 0
2025-07-25 17:35:00 | INFO | __main__:main:119 |   average_response_time: 0.00秒
2025-07-25 17:35:00 | INFO | __main__:main:123 |   last_operation_time: None
2025-07-25 17:35:00 | INFO | __main__:main:130 | 清理资源...
2025-07-25 17:35:00 | INFO | src.core.controller:disconnect_device:138 | 正在断开设备连接...
2025-07-25 17:35:00 | INFO | src.services.connection:disconnect:438 | 正在断开设备连接...
2025-07-25 17:35:00 | INFO | src.services.connection:disconnect:449 | 设备连接已断开
2025-07-25 17:35:00 | INFO | src.core.controller:disconnect_device:150 | 设备连接已断开
2025-07-25 17:35:00 | INFO | __main__:main:133 | 设备连接已断开
2025-07-28 11:17:33 | INFO | src.utils.logger:setup_logger:77 | 日志系统初始化完成
2025-07-28 11:17:33 | ERROR | __main__:main:105 | Screenshot stability test error: 'ConnectionConfig' object has no attribute 'timeout'
2025-07-28 11:18:01 | INFO | src.utils.logger:setup_logger:77 | 日志系统初始化完成
2025-07-28 11:18:28 | INFO | src.utils.logger:setup_logger:77 | 日志系统初始化完成
2025-07-28 11:18:29 | INFO | src.services.connection:connect:313 | 正在连接USB设备...
2025-07-28 11:18:29 | INFO | src.services.connection:connect:325 | 检测到设备: Unknown Device (iOS Unknown, Unknown)
2025-07-28 11:18:29 | WARNING | src.services.connection:connect:346 | 标准截图服务不可用: InvalidService
2025-07-28 11:18:29 | INFO | src.services.connection:connect:347 | 尝试使用外部命令进行截图...
2025-07-28 11:18:29 | INFO | src.services.connection:connect:363 | 将使用外部命令进行截图
2025-07-28 11:18:30 | INFO | src.services.connection:connect:370 | 屏幕尺寸: 2752x2064
2025-07-28 11:18:30 | INFO | src.services.connection:connect:410 | USB连接成功，耗时: 1.52秒
2025-07-28 11:18:31 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.163秒
2025-07-28 11:18:33 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.183秒
2025-07-28 11:18:36 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.665秒
2025-07-28 11:18:45 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 8.114秒
2025-07-28 11:18:47 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.191秒
2025-07-28 11:18:50 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.160秒
2025-07-28 11:18:52 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.188秒
2025-07-28 11:18:54 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.162秒
2025-07-28 11:18:56 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.223秒
2025-07-28 11:18:58 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.178秒
2025-07-28 11:19:15 | INFO | src.utils.logger:setup_logger:77 | 日志系统初始化完成
2025-07-28 11:19:15 | INFO | src.services.connection:connect:313 | 正在连接USB设备...
2025-07-28 11:19:15 | INFO | src.services.connection:connect:325 | 检测到设备: Unknown Device (iOS Unknown, Unknown)
2025-07-28 11:19:15 | WARNING | src.services.connection:connect:346 | 标准截图服务不可用: InvalidService
2025-07-28 11:19:15 | INFO | src.services.connection:connect:347 | 尝试使用外部命令进行截图...
2025-07-28 11:19:15 | INFO | src.services.connection:connect:363 | 将使用外部命令进行截图
2025-07-28 11:19:16 | INFO | src.services.connection:connect:370 | 屏幕尺寸: 2752x2064
2025-07-28 11:19:16 | INFO | src.services.connection:connect:410 | USB连接成功，耗时: 1.52秒
2025-07-28 11:19:17 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.229秒
2025-07-28 11:19:20 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.278秒
2025-07-28 11:19:22 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.217秒
2025-07-28 11:19:24 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.284秒
2025-07-28 11:19:26 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.400秒
2025-07-28 11:19:29 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.286秒
2025-07-28 11:19:31 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.487秒
2025-07-28 11:19:34 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.478秒
2025-07-28 11:19:36 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.505秒
2025-07-28 11:19:39 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.495秒
2025-07-28 11:20:05 | INFO | src.utils.logger:setup_logger:77 | 日志系统初始化完成
2025-07-28 11:20:05 | INFO | src.services.connection:connect:313 | 正在连接USB设备...
2025-07-28 11:20:05 | INFO | src.services.connection:connect:325 | 检测到设备: Unknown Device (iOS Unknown, Unknown)
2025-07-28 11:20:05 | WARNING | src.services.connection:connect:346 | 标准截图服务不可用: InvalidService
2025-07-28 11:20:05 | INFO | src.services.connection:connect:347 | 尝试使用外部命令进行截图...
2025-07-28 11:20:05 | INFO | src.services.connection:connect:363 | 将使用外部命令进行截图
2025-07-28 11:20:07 | INFO | src.services.connection:connect:370 | 屏幕尺寸: 2752x2064
2025-07-28 11:20:07 | INFO | src.services.connection:connect:410 | USB连接成功，耗时: 1.87秒
2025-07-28 11:20:09 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.486秒
2025-07-28 11:20:11 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.523秒
2025-07-28 11:20:14 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.473秒
2025-07-28 11:20:16 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.488秒
2025-07-28 11:20:19 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.471秒
2025-07-28 11:20:21 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.523秒
2025-07-28 11:20:24 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.502秒
2025-07-28 11:20:26 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.438秒
2025-07-28 11:20:28 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.457秒
2025-07-28 11:20:31 | DEBUG | src.services.connection:get_screenshot:472 | 截图成功，耗时: 1.432秒
2025-07-29 12:03:13 | INFO | src.utils.logger:setup_logger:77 | 日志系统初始化完成
2025-07-29 12:03:13 | INFO | src.services.vision:_load_templates:49 | 正在从 templates 加载模板图像...
2025-07-29 12:03:13 | INFO | src.services.vision:_load_templates:79 | 模板加载完成，共 0 个模板
2025-07-29 12:03:13 | INFO | src.services.vision:enable_vlm:92 | VLM大模型识别已启用
2025-07-29 12:03:13 | INFO | src.controllers.game_assistant:_initialize_services:76 | Ollama VLM服务已启用，模型: qwen2.5vl:latest
2025-07-29 12:03:13 | INFO | src.services.connection:connect:313 | 正在连接USB设备...
2025-07-29 12:03:13 | INFO | src.services.connection:connect:325 | 检测到设备: Unknown Device (iOS Unknown, Unknown)
2025-07-29 12:03:13 | WARNING | src.services.connection:connect:346 | 标准截图服务不可用: InvalidService
2025-07-29 12:03:13 | INFO | src.services.connection:connect:347 | 尝试使用外部命令进行截图...
2025-07-29 12:03:13 | INFO | src.services.connection:connect:363 | 将使用外部命令进行截图
2025-07-29 12:03:13 | INFO | src.services.connection:connect:367 | 正在测试外部截图命令...
2025-07-29 12:03:14 | INFO | src.services.connection:connect:371 | 屏幕尺寸: 2752x2064
2025-07-29 12:03:14 | INFO | src.services.connection:connect:411 | USB连接成功，耗时: 1.24秒
2025-07-29 12:03:14 | INFO | src.controllers.game_assistant:_initialize_services:84 | 设备连接成功
2025-07-29 12:03:14 | INFO | src.controllers.game_assistant:_initialize_services:92 | 截图管理器已初始化
2025-07-29 12:03:14 | INFO | src.controllers.game_assistant:_initialize_services:100 | 异步分析管理器已启用
2025-07-29 12:03:14 | INFO | src.services.vision:_load_templates:49 | 正在从 templates 加载模板图像...
2025-07-29 12:03:14 | INFO | src.services.vision:_load_templates:79 | 模板加载完成，共 0 个模板
2025-07-29 12:03:14 | INFO | src.services.vision:enable_vlm:92 | VLM大模型识别已启用
2025-07-29 12:03:14 | INFO | src.controllers.game_assistant:_initialize_services:76 | Ollama VLM服务已启用，模型: qwen2.5vl:latest
2025-07-29 12:03:14 | INFO | src.services.connection:connect:313 | 正在连接USB设备...
2025-07-29 12:03:14 | INFO | src.services.connection:connect:325 | 检测到设备: Unknown Device (iOS Unknown, Unknown)
2025-07-29 12:03:14 | WARNING | src.services.connection:connect:346 | 标准截图服务不可用: InvalidService
2025-07-29 12:03:14 | INFO | src.services.connection:connect:347 | 尝试使用外部命令进行截图...
2025-07-29 12:03:14 | INFO | src.services.connection:connect:363 | 将使用外部命令进行截图
2025-07-29 12:03:14 | INFO | src.services.connection:connect:367 | 正在测试外部截图命令...
2025-07-29 12:03:15 | INFO | src.services.connection:connect:371 | 屏幕尺寸: 2752x2064
2025-07-29 12:03:15 | INFO | src.services.connection:connect:411 | USB连接成功，耗时: 1.12秒
2025-07-29 12:03:15 | INFO | src.controllers.game_assistant:_initialize_services:84 | 设备连接成功
2025-07-29 12:03:15 | INFO | src.controllers.game_assistant:_initialize_services:92 | 截图管理器已初始化
2025-07-29 12:03:15 | INFO | src.controllers.game_assistant:_initialize_services:100 | 异步分析管理器已启用
2025-07-29 12:03:50 | INFO | src.utils.logger:setup_logger:77 | 日志系统初始化完成
2025-07-29 12:03:50 | INFO | src.services.vision:_load_templates:49 | 正在从 templates 加载模板图像...
2025-07-29 12:03:50 | INFO | src.services.vision:_load_templates:79 | 模板加载完成，共 0 个模板
2025-07-29 12:03:50 | INFO | src.services.vision:enable_vlm:92 | VLM大模型识别已启用
2025-07-29 12:03:50 | INFO | src.controllers.game_assistant:_initialize_services:76 | Ollama VLM服务已启用，模型: qwen2.5vl:latest
2025-07-29 12:03:50 | INFO | src.services.connection:connect:313 | 正在连接USB设备...
2025-07-29 12:03:50 | INFO | src.services.connection:connect:325 | 检测到设备: Unknown Device (iOS Unknown, Unknown)
2025-07-29 12:03:50 | WARNING | src.services.connection:connect:346 | 标准截图服务不可用: InvalidService
2025-07-29 12:03:50 | INFO | src.services.connection:connect:347 | 尝试使用外部命令进行截图...
2025-07-29 12:03:50 | INFO | src.services.connection:connect:363 | 将使用外部命令进行截图
2025-07-29 12:03:50 | INFO | src.services.connection:connect:367 | 正在测试外部截图命令...
2025-07-29 12:03:51 | INFO | src.services.connection:connect:371 | 屏幕尺寸: 2752x2064
2025-07-29 12:03:51 | INFO | src.services.connection:connect:411 | USB连接成功，耗时: 1.16秒
2025-07-29 12:03:51 | INFO | src.controllers.game_assistant:_initialize_services:84 | 设备连接成功
2025-07-29 12:03:51 | INFO | src.controllers.game_assistant:_initialize_services:92 | 截图管理器已初始化
2025-07-29 12:03:51 | INFO | src.controllers.game_assistant:_initialize_services:100 | 异步分析管理器已启用
2025-07-29 12:03:51 | INFO | src.controllers.game_assistant:start_assistant:133 | 🎮 《三国志战略版》游戏助手已启动
2025-07-29 12:03:51 | INFO | src.services.ollama_vlm:initialize:93 | Ollama VLM服务初始化成功，使用模型: qwen2.5vl:latest
2025-07-29 12:03:51 | INFO | src.controllers.game_assistant:start_assistant:140 | Ollama VLM服务已启动
2025-07-29 12:03:51 | INFO | src.services.ollama_vlm:initialize:93 | Ollama VLM服务初始化成功，使用模型: qwen2.5vl:latest
2025-07-29 12:03:51 | INFO | src.controllers.game_assistant:_initialize_vlm_service:112 | VLM服务异步初始化成功
2025-07-29 12:03:51 | INFO | src.services.ollama_vlm:initialize:93 | Ollama VLM服务初始化成功，使用模型: qwen2.5vl:latest
2025-07-29 12:03:51 | INFO | src.services.async_analysis_manager:initialize:152 | 异步分析管理器初始化成功
2025-07-29 12:03:51 | INFO | src.controllers.game_assistant:start_assistant:167 | ✅ 游戏助手启动完成，等待用户操作
2025-07-29 12:03:51 | INFO | src.services.async_analysis_manager:_task_processor:424 | 任务处理器已启动
2025-07-29 12:03:52 | DEBUG | src.services.connection:get_screenshot:473 | 截图成功，耗时: 0.931秒
2025-07-29 12:03:52 | DEBUG | src.utils.screenshot:take_screenshot:60 | 异步截图获取成功
2025-07-29 12:03:52 | DEBUG | src.utils.helpers:save_screenshot:717 | 截图已保存: /Users/liuweigang/sgzAss/resources/screenshots/analysis_screenshot_1753761832.png
2025-07-29 12:03:52 | DEBUG | src.utils.screenshot:save_screenshot_async:142 | 截图已保存: /Users/liuweigang/sgzAss/resources/screenshots/analysis_screenshot_1753761832.png
2025-07-29 12:03:52 | DEBUG | src.utils.screenshot:cleanup_old_screenshots:271 | 已删除旧截图: analysis_screenshot_1753761223.png
2025-07-29 12:03:52 | INFO | src.utils.screenshot:cleanup_old_screenshots:276 | 清理完成，删除了 1 个旧截图文件
2025-07-29 12:03:52 | DEBUG | src.controllers.game_assistant:analyze_current_screen:235 | 分析截图已保存: /Users/liuweigang/sgzAss/resources/screenshots/analysis_screenshot_1753761832.png
2025-07-29 12:03:52 | INFO | src.services.async_analysis_manager:analyze_screenshot:277 | 分析任务已提交: analysis_1753761832830
2025-07-29 12:03:52 | INFO | src.services.async_analysis_manager:_process_task:464 | 开始处理分析任务: analysis_1753761832830
2025-07-29 12:03:52 | ERROR | src.services.async_analysis_manager:_save_task_screenshot:616 | 保存截图失败: 'ConfigManager' object has no attribute 'save_analysis_screenshots'
2025-07-29 12:04:06 | ERROR | src.services.ollama_vlm:_parse_vlm_response:362 | 响应解析失败: 'str' object has no attribute 'get'
2025-07-29 12:04:06 | INFO | src.services.ollama_vlm:analyze_screenshot_async:143 | VLM分析完成，耗时: 13.96秒
2025-07-29 12:04:06 | INFO | src.services.async_analysis_manager:_process_task:515 | 分析任务完成: analysis_1753761832830, 耗时: 13.96秒
2025-07-29 12:04:07 | INFO | src.controllers.game_assistant:stop_assistant:180 | 🛑 正在停止游戏助手...
2025-07-29 12:04:07 | INFO | src.services.async_analysis_manager:stop:166 | 正在停止异步分析管理器...
2025-07-29 12:04:07 | INFO | src.services.ollama_vlm:stop:561 | Ollama VLM服务已停止
2025-07-29 12:04:07 | INFO | src.services.async_analysis_manager:stop:204 | 线程池已安全关闭
2025-07-29 12:04:07 | INFO | src.services.async_analysis_manager:stop:208 | 异步分析管理器已停止
2025-07-29 12:04:07 | INFO | src.services.ollama_vlm:stop:561 | Ollama VLM服务已停止
2025-07-29 12:04:07 | INFO | src.controllers.game_assistant:stop_assistant:190 | Ollama VLM服务已停止
2025-07-29 12:04:07 | INFO | src.services.connection:disconnect:439 | 正在断开设备连接...
2025-07-29 12:04:07 | INFO | src.services.connection:disconnect:450 | 设备连接已断开
2025-07-29 12:04:07 | INFO | src.controllers.game_assistant:stop_assistant:198 | 设备连接已断开
2025-07-29 12:04:07 | INFO | src.controllers.game_assistant:stop_assistant:200 | ✅ 游戏助手已停止
2025-07-29 12:04:07 | INFO | src.services.vision:_load_templates:49 | 正在从 templates 加载模板图像...
2025-07-29 12:04:07 | INFO | src.services.vision:_load_templates:79 | 模板加载完成，共 0 个模板
2025-07-29 12:04:07 | INFO | src.services.vision:enable_vlm:92 | VLM大模型识别已启用
2025-07-29 12:04:07 | INFO | src.controllers.game_assistant:_initialize_services:76 | Ollama VLM服务已启用，模型: qwen2.5vl:latest
2025-07-29 12:04:08 | INFO | src.services.connection:connect:313 | 正在连接USB设备...
2025-07-29 12:04:08 | INFO | src.services.connection:connect:325 | 检测到设备: Unknown Device (iOS Unknown, Unknown)
2025-07-29 12:04:08 | WARNING | src.services.connection:connect:346 | 标准截图服务不可用: InvalidService
2025-07-29 12:04:08 | INFO | src.services.connection:connect:347 | 尝试使用外部命令进行截图...
2025-07-29 12:04:08 | INFO | src.services.connection:connect:363 | 将使用外部命令进行截图
2025-07-29 12:04:08 | INFO | src.services.connection:connect:367 | 正在测试外部截图命令...
2025-07-29 12:04:09 | INFO | src.services.connection:connect:371 | 屏幕尺寸: 2752x2064
2025-07-29 12:04:09 | INFO | src.services.connection:connect:411 | USB连接成功，耗时: 1.33秒
2025-07-29 12:04:09 | INFO | src.controllers.game_assistant:_initialize_services:84 | 设备连接成功
2025-07-29 12:04:09 | INFO | src.controllers.game_assistant:_initialize_services:92 | 截图管理器已初始化
2025-07-29 12:04:09 | INFO | src.controllers.game_assistant:_initialize_services:100 | 异步分析管理器已启用
2025-07-29 12:04:09 | INFO | src.controllers.game_assistant:start_assistant:133 | 🎮 《三国志战略版》游戏助手已启动
2025-07-29 12:04:09 | INFO | src.services.ollama_vlm:initialize:93 | Ollama VLM服务初始化成功，使用模型: qwen2.5vl:latest
2025-07-29 12:04:09 | INFO | src.controllers.game_assistant:_initialize_vlm_service:112 | VLM服务异步初始化成功
2025-07-29 12:04:09 | INFO | src.services.ollama_vlm:initialize:93 | Ollama VLM服务初始化成功，使用模型: qwen2.5vl:latest
2025-07-29 12:04:09 | INFO | src.controllers.game_assistant:start_assistant:140 | Ollama VLM服务已启动
2025-07-29 12:04:09 | INFO | src.services.ollama_vlm:initialize:93 | Ollama VLM服务初始化成功，使用模型: qwen2.5vl:latest
2025-07-29 12:04:09 | INFO | src.services.async_analysis_manager:initialize:152 | 异步分析管理器初始化成功
2025-07-29 12:04:09 | INFO | src.controllers.game_assistant:start_assistant:167 | ✅ 游戏助手启动完成，等待用户操作
2025-07-29 12:04:09 | INFO | src.services.async_analysis_manager:_task_processor:424 | 任务处理器已启动
2025-07-29 12:04:10 | DEBUG | src.services.connection:get_screenshot:473 | 截图成功，耗时: 0.920秒
2025-07-29 12:04:10 | DEBUG | src.utils.screenshot:take_screenshot:60 | 异步截图获取成功
2025-07-29 12:04:10 | DEBUG | src.utils.helpers:save_screenshot:717 | 截图已保存: /Users/liuweigang/sgzAss/resources/screenshots/analysis_screenshot_1753761850.png
2025-07-29 12:04:10 | DEBUG | src.utils.screenshot:save_screenshot_async:142 | 截图已保存: /Users/liuweigang/sgzAss/resources/screenshots/analysis_screenshot_1753761850.png
2025-07-29 12:04:10 | DEBUG | src.utils.screenshot:cleanup_old_screenshots:271 | 已删除旧截图: analysis_analysis_1753761253999_2025-07-29 11:54:13.png
2025-07-29 12:04:10 | INFO | src.utils.screenshot:cleanup_old_screenshots:276 | 清理完成，删除了 1 个旧截图文件
2025-07-29 12:04:10 | DEBUG | src.controllers.game_assistant:analyze_current_screen:235 | 分析截图已保存: /Users/liuweigang/sgzAss/resources/screenshots/analysis_screenshot_1753761850.png
2025-07-29 12:04:10 | INFO | src.services.async_analysis_manager:analyze_screenshot:277 | 分析任务已提交: analysis_1753761850162
2025-07-29 12:04:10 | INFO | src.services.async_analysis_manager:_process_task:464 | 开始处理分析任务: analysis_1753761850162
2025-07-29 12:04:10 | ERROR | src.services.async_analysis_manager:_save_task_screenshot:616 | 保存截图失败: 'ConfigManager' object has no attribute 'save_analysis_screenshots'
2025-07-29 12:04:12 | ERROR | src.services.ollama_vlm:_parse_vlm_response:362 | 响应解析失败: 'str' object has no attribute 'get'
2025-07-29 12:04:12 | INFO | src.services.ollama_vlm:analyze_screenshot_async:143 | VLM分析完成，耗时: 2.62秒
2025-07-29 12:04:12 | INFO | src.services.async_analysis_manager:_process_task:515 | 分析任务完成: analysis_1753761850162, 耗时: 2.62秒
2025-07-29 12:04:14 | DEBUG | src.services.connection:get_screenshot:473 | 截图成功，耗时: 0.965秒
2025-07-29 12:04:14 | DEBUG | src.utils.screenshot:take_screenshot:60 | 异步截图获取成功
2025-07-29 12:04:14 | DEBUG | src.utils.helpers:save_screenshot:717 | 截图已保存: /Users/liuweigang/sgzAss/resources/screenshots/analysis_screenshot_1753761854.png
2025-07-29 12:04:14 | DEBUG | src.utils.screenshot:save_screenshot_async:142 | 截图已保存: /Users/liuweigang/sgzAss/resources/screenshots/analysis_screenshot_1753761854.png
2025-07-29 12:04:14 | DEBUG | src.utils.screenshot:cleanup_old_screenshots:271 | 已删除旧截图: analysis_screenshot_1753761285.png
2025-07-29 12:04:14 | INFO | src.utils.screenshot:cleanup_old_screenshots:276 | 清理完成，删除了 1 个旧截图文件
2025-07-29 12:04:14 | DEBUG | src.controllers.game_assistant:analyze_current_screen:235 | 分析截图已保存: /Users/liuweigang/sgzAss/resources/screenshots/analysis_screenshot_1753761854.png
2025-07-29 12:04:14 | INFO | src.services.async_analysis_manager:analyze_screenshot:277 | 分析任务已提交: analysis_1753761854811
2025-07-29 12:04:14 | INFO | src.services.async_analysis_manager:_process_task:464 | 开始处理分析任务: analysis_1753761854811
2025-07-29 12:04:14 | ERROR | src.services.async_analysis_manager:_save_task_screenshot:616 | 保存截图失败: 'ConfigManager' object has no attribute 'save_analysis_screenshots'
2025-07-29 12:04:18 | ERROR | src.services.ollama_vlm:_parse_vlm_response:362 | 响应解析失败: 'str' object has no attribute 'get'
2025-07-29 12:04:18 | INFO | src.services.ollama_vlm:analyze_screenshot_async:143 | VLM分析完成，耗时: 3.49秒
2025-07-29 12:04:18 | INFO | src.services.async_analysis_manager:_process_task:515 | 分析任务完成: analysis_1753761854811, 耗时: 3.49秒
2025-07-29 12:04:20 | DEBUG | src.services.connection:get_screenshot:473 | 截图成功，耗时: 0.948秒
2025-07-29 12:04:20 | DEBUG | src.utils.screenshot:take_screenshot:60 | 异步截图获取成功
2025-07-29 12:04:20 | DEBUG | src.utils.helpers:save_screenshot:717 | 截图已保存: /Users/liuweigang/sgzAss/resources/screenshots/analysis_screenshot_1753761860.png
2025-07-29 12:04:20 | DEBUG | src.utils.screenshot:save_screenshot_async:142 | 截图已保存: /Users/liuweigang/sgzAss/resources/screenshots/analysis_screenshot_1753761860.png
2025-07-29 12:04:20 | DEBUG | src.utils.screenshot:cleanup_old_screenshots:271 | 已删除旧截图: analysis_screenshot_1753761832.png
2025-07-29 12:04:20 | INFO | src.utils.screenshot:cleanup_old_screenshots:276 | 清理完成，删除了 1 个旧截图文件
2025-07-29 12:04:20 | DEBUG | src.controllers.game_assistant:analyze_current_screen:235 | 分析截图已保存: /Users/liuweigang/sgzAss/resources/screenshots/analysis_screenshot_1753761860.png
2025-07-29 12:04:20 | INFO | src.services.async_analysis_manager:analyze_screenshot:277 | 分析任务已提交: analysis_1753761860352
2025-07-29 12:04:20 | INFO | src.services.async_analysis_manager:_process_task:464 | 开始处理分析任务: analysis_1753761860352
2025-07-29 12:04:20 | ERROR | src.services.async_analysis_manager:_save_task_screenshot:616 | 保存截图失败: 'ConfigManager' object has no attribute 'save_analysis_screenshots'
2025-07-29 12:04:24 | ERROR | src.services.ollama_vlm:_parse_vlm_response:362 | 响应解析失败: 'str' object has no attribute 'get'
2025-07-29 12:04:24 | INFO | src.services.ollama_vlm:analyze_screenshot_async:143 | VLM分析完成，耗时: 3.85秒
2025-07-29 12:04:24 | INFO | src.services.async_analysis_manager:_process_task:515 | 分析任务完成: analysis_1753761860352, 耗时: 3.85秒
2025-07-29 12:04:25 | INFO | src.controllers.game_assistant:stop_assistant:180 | 🛑 正在停止游戏助手...
2025-07-29 12:04:25 | INFO | src.services.async_analysis_manager:stop:166 | 正在停止异步分析管理器...
2025-07-29 12:04:25 | INFO | src.services.ollama_vlm:stop:561 | Ollama VLM服务已停止
2025-07-29 12:04:25 | INFO | src.services.async_analysis_manager:stop:204 | 线程池已安全关闭
2025-07-29 12:04:25 | INFO | src.services.async_analysis_manager:stop:208 | 异步分析管理器已停止
2025-07-29 12:04:25 | INFO | src.services.ollama_vlm:stop:561 | Ollama VLM服务已停止
2025-07-29 12:04:25 | INFO | src.controllers.game_assistant:stop_assistant:190 | Ollama VLM服务已停止
2025-07-29 12:04:25 | INFO | src.services.connection:disconnect:439 | 正在断开设备连接...
2025-07-29 12:04:25 | INFO | src.services.connection:disconnect:450 | 设备连接已断开
2025-07-29 12:04:25 | INFO | src.controllers.game_assistant:stop_assistant:198 | 设备连接已断开
2025-07-29 12:04:25 | INFO | src.controllers.game_assistant:stop_assistant:200 | ✅ 游戏助手已停止
2025-07-29 17:01:02 | INFO | src.utils.logger:setup_logger:78 | 日志系统初始化完成
2025-07-29 17:01:02 | DEBUG | __main__:test_logger_setup:72 | 这是DEBUG级别的日志
2025-07-29 17:01:02 | INFO | __main__:test_logger_setup:73 | 这是INFO级别的日志
2025-07-29 17:01:02 | WARNING | __main__:test_logger_setup:74 | 这是WARNING级别的日志
2025-07-29 17:01:02 | ERROR | __main__:test_logger_setup:75 | 这是ERROR级别的日志
2025-07-29 17:01:02 | CRITICAL | __main__:test_logger_setup:76 | 这是CRITICAL级别的日志
2025-07-29 17:01:02 | INFO | src.utils.logger:remove_handler:145 | 移除日志处理器: 1
2025-07-29 17:01:02 | INFO | src.utils.logger:set_console_level:196 | 控制台日志级别已设置为: WARNING
2025-07-29 17:01:02 | DEBUG | __main__:test_dynamic_log_level:96 | DEBUG: 这条消息应该不会在控制台显示
2025-07-29 17:01:02 | INFO | __main__:test_dynamic_log_level:97 | INFO: 这条消息应该不会在控制台显示
2025-07-29 17:01:02 | WARNING | __main__:test_dynamic_log_level:98 | WARNING: 这条消息应该在控制台显示
2025-07-29 17:01:02 | ERROR | __main__:test_dynamic_log_level:99 | ERROR: 这条消息应该在控制台显示
2025-07-29 17:01:02 | ERROR | __main__:test_dynamic_log_level:107 | ERROR: 这条消息应该写入文件
2025-07-29 17:01:02 | INFO | src.utils.logger:setup_logger:78 | 日志系统初始化完成
2025-07-29 17:01:02 | DEBUG | __main__:test_dynamic_log_level:112 | DEBUG: 这条消息应该写入文件但不在控制台显示
2025-07-29 17:01:02 | INFO | __main__:test_dynamic_log_level:113 | INFO: 这条消息应该同时写入文件和控制台显示
2025-07-29 17:01:02 | WARNING | __main__:test_dynamic_log_level:114 | WARNING: 这条消息应该同时写入文件和控制台显示
